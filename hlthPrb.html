<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØµØ­ÙŠØ©/Ø§Ù„Ù†ÙØ³ÙŠØ© | Ø­ÙŠØ§Ùƒ</title>
  <meta name="description" content="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØµØ­ÙŠØ© ÙˆØ§Ù„Ù†ÙØ³ÙŠØ© ÙˆØ¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®ØµÙˆØµÙŠØ© ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø­ÙŠØ§Ùƒ" />
  <link rel="icon" type="image/jpeg" href="favicon.jpeg">
  
  <!-- Google Fonts: Cairo -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Afeesh local fonts (single family name, multiple weights) -->
  <style>
    /* Map several available Afeesh font files to one family name for easy usage */
    @font-face {
      font-family: 'Afeesh';
      src: url('./afeesh/Afeesh-Aadi.woff2') format('woff2'),
           url('./afeesh/Afeesh-Aadi.woff') format('woff'),
           url('./afeesh/Afeesh-Aadi.ttf') format('truetype');
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }
    @font-face {
      font-family: 'Afeesh';
      src: url('./afeesh/Afeesh-Mekalbaz.woff2') format('woff2'),
           url('./afeesh/Afeesh-Mekalbaz.woff') format('woff'),
           url('./afeesh/Afeesh-Mekalbaz.ttf') format('truetype');
      font-weight: 700;
      font-style: normal;
      font-display: swap;
    }
    @font-face {
      font-family: 'Afeesh';
      src: url('./afeesh/Afeesh-NosMekalbaz.woff2') format('woff2'),
           url('./afeesh/Afeesh-NosMekalbaz.woff') format('woff'),
           url('./afeesh/Afeesh-NosMekalbaz.ttf') format('truetype');
      font-weight: 600;
      font-style: normal;
      font-display: swap;
    }
    @font-face {
      font-family: 'Afeesh';
      src: url('./afeesh/Afeesh-NosMesalwa.woff2') format('woff2'),
           url('./afeesh/Afeesh-NosMesalwa.woff') format('woff'),
           url('./afeesh/Afeesh-NosMesalwa.ttf') format('truetype');
      font-weight: 300;
      font-style: normal;
      font-display: swap;
    }

    :root {
      --bg: #f5f5f7;
      --card: #ffffff;
      --ink: #0f0f10;
      --muted: #6b7280;
      --line: #0f0f10;
      --accent: #0f0f10;
      --radius: 14px;
      --primary: #16243d;
      --gold: #d4af37;
      --health-green: #10b981;
      --health-red: #ef4444;
      --health-blue: #3b82f6;
      --health-yellow: #f59e0b;
      --emergency-red: #dc2626;
      --emergency-glow: rgba(220, 38, 38, 0.2);
    }

    * { box-sizing: border-box; }

    html, body {
      height: 100%;
      background: var(--bg);
    }

    body {
      margin: 0;
      font-family: 'Cairo', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--ink);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .page {
      min-height: 100%;
      display: grid;
      grid-template-rows: auto 1fr auto;
    }

    /* Phone-width centered container to resemble the mockup, but responsive */
    .shell {
      width: 100%;
      max-width: 420px;
      margin: 0 auto;
      padding: 16px;
    }

    .card {
      background: var(--card);
      border: 2px solid var(--line);
      border-radius: var(--radius);
      box-shadow: 0 2px 0 #0f0f10;
    }

    header.brand {
      text-align: center;
      margin: 0;
      background: var(--primary);
      color: #ffffff;
      padding: 20px;
      position: relative;
    }
    .logo-text {
      font-family: 'Afeesh', sans-serif;
      font-weight: 700;
      font-size: 48px;
      letter-spacing: 2px;
      color: var(--gold);
    }
    .logo-sub {
      font-family: 'Afeesh', sans-serif;
      font-weight: 600;
      color: #94a3b8;
      font-size: 20px;
      margin-top: 2px;
      letter-spacing: 3px;
    }
    .home-btn {
      position: absolute;
      top: 50%;
      left: 20px;
      transform: translateY(-50%);
      color: var(--gold);
      text-decoration: none;
      font-size: 15px;
      background-color: #0f0f10;
      padding: 9px 12px;
      border-radius: 999px;
      transition: all 0.3s ease;
    }
    
    .home-btn:hover {
      background-color: var(--gold);
      color: #0f0f10;
      transform: translateY(-50%) scale(1.05);
    }

    /* Translate Button Styles */
    .translate-btn {
      position: absolute;
      top: 50%;
      right: 20px;
      transform: translateY(-50%);
      background: var(--gold);
      border: 2px solid #ffffff;
      border-radius: 20px;
      color: var(--primary);
      padding: 6px 14px;
      font-weight: 700;
      font-size: 13px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: all 0.3s ease;
      box-shadow: 0 3px 10px rgba(212, 175, 55, 0.3);
      z-index: 100;
    }
    
    .translate-btn:hover {
      transform: translateY(-50%) scale(1.05);
      box-shadow: 0 5px 15px rgba(212, 175, 55, 0.5);
      background: #f7ef8a;
    }
    
    .translate-btn .icon {
      font-size: 16px;
      transition: transform 0.3s ease;
    }
    
    .translate-btn:hover .icon {
      transform: rotate(20deg);
    }
    
    .translate-btn.switching {
      animation: pulse 0.5s ease;
    }
    
    @keyframes pulse {
      0% { transform: translateY(-50%) scale(1); }
      50% { transform: translateY(-50%) scale(0.9); }
      100% { transform: translateY(-50%) scale(1); }
    }

    h1, h2, h3, h4 { margin: 0; }

    .page-title {
      font-size: 24px;
      font-weight: 700;
      margin: 14px 6px 8px;
      color: var(--primary);
    }

    .page-description {
      font-size: 15px;
      color: var(--muted);
      margin: 0 6px 20px;
      line-height: 1.5;
    }

    /* Current Health Status */
    .health-status-section {
      margin: 20px 0;
    }
    .status-card {
      padding: 16px;
      background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%);
      border: 2px solid var(--health-blue);
      border-radius: var(--radius);
    }
    .status-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 12px;
    }
    .status-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--health-blue);
      color: white;
      display: grid;
      place-items: center;
      font-size: 20px;
    }
    .status-title {
      font-weight: 700;
      font-size: 18px;
      color: var(--primary);
    }
    .status-list {
      display: grid;
      gap: 8px;
    }
    .status-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 8px 12px;
      background: rgba(255, 255, 255, 0.7);
      border-radius: 8px;
    }
    .status-item-icon {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: grid;
      place-items: center;
      font-size: 12px;
    }

    /* Health categories */
    .health-categories {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      padding: 8px 4px 16px;
    }
    .health-cat {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      padding: 12px 8px;
      background: var(--card);
      border: 2px solid var(--line);
      border-radius: 12px;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s;
    }
    .health-cat:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 0 var(--line);
    }
    .health-cat.active {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
    }
    .health-cat.active .health-emoji {
      background: rgba(255, 255, 255, 0.2);
    }
    .health-emoji {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: grid;
      place-items: center;
      font-size: 24px;
      margin-bottom: 4px;
    }
    .health-cat .label {
      font-weight: 600;
      font-size: 14px;
    }

    /* Health conditions list */
    .conditions-section {
      margin: 20px 0;
    }
    .section-title {
      font-weight: 700;
      font-size: 20px;
      margin: 6px 6px 14px;
      color: var(--primary);
    }

    .conditions-list {
      display: grid;
      gap: 12px;
      padding: 0 6px;
    }
    .condition-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 14px 16px;
      background: var(--card);
      border: 2px solid var(--line);
      border-radius: var(--radius);
    }
    .condition-info {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .condition-icon {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      display: grid;
      place-items: center;
      font-size: 20px;
    }
    .condition-text h4 {
      font-weight: 700;
      font-size: 16px;
      margin-bottom: 4px;
    }
    .condition-text p {
      font-size: 13px;
      color: var(--muted);
      margin: 0;
    }
    .toggle-switch {
      position: relative;
      width: 50px;
      height: 26px;
    }
    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .toggle-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      border-radius: 34px;
      transition: .4s;
    }
    .toggle-slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      border-radius: 50%;
      transition: .4s;
    }
    input:checked + .toggle-slider {
      background-color: var(--health-green);
    }
    input:checked + .toggle-slider:before {
      transform: translateX(24px);
    }

    /* Emergency section - Creative Design */
    .emergency-section {
      margin: 24px 0;
      position: relative;
    }
    .emergency-card {
      padding: 20px;
      background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
      border: 3px solid var(--emergency-red);
      border-radius: var(--radius);
      text-align: center;
      position: relative;
      overflow: hidden;
      animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 var(--emergency-glow); }
      70% { box-shadow: 0 0 0 10px rgba(220, 38, 38, 0); }
      100% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0); }
    }
    .emergency-icon {
      width: 60px;
      height: 60px;
      background: var(--emergency-red);
      border-radius: 50%;
      display: grid;
      place-items: center;
      font-size: 28px;
      color: white;
      margin: 0 auto 12px;
      animation: shake 0.5s infinite alternate;
    }
    @keyframes shake {
      from { transform: rotate(-5deg); }
      to { transform: rotate(5deg); }
    }
    .emergency-title {
      font-weight: 700;
      font-size: 20px;
      color: var(--emergency-red);
      margin-bottom: 8px;
    }
    .emergency-text {
      font-size: 14px;
      margin-bottom: 20px;
      color: #7f1d1d;
    }
    .emergency-buttons {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    .emergency-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      background: var(--emergency-red);
      color: white;
      padding: 12px 16px;
      border-radius: 999px;
      font-weight: 700;
      text-decoration: none;
      border: 2px solid var(--line);
      transition: all 0.2s;
    }
    .emergency-btn:hover {
      background: #b91c1c;
      transform: scale(1.05);
    }
    .emergency-btn.secondary {
      background: #f59e0b;
    }
    .emergency-btn.secondary:hover {
      background: #d97706;
    }

    /* Privacy settings */
    .privacy-section {
      margin: 20px 0;
    }
    .privacy-options {
      display: grid;
      gap: 12px;
      padding: 0 6px;
    }
    .privacy-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px;
      background: var(--card);
      border: 2px solid var(--line);
      border-radius: var(--radius);
    }
    .privacy-text h4 {
      font-weight: 700;
      font-size: 16px;
      margin-bottom: 4px;
    }
    .privacy-text p {
      font-size: 13px;
      color: var(--muted);
      margin: 0;
    }

    /* Quick links */
    .quick {
      padding: 6px;
      display: grid;
      gap: 8px;
      margin-top: 20px;
    }
    .quick .item {
      display: flex;
      align-items: center;
      gap: 10px;
      border: 2px solid var(--line);
      border-radius: var(--radius);
      padding: 10px 14px;
      background: var(--card);
      font-weight: 600;
      text-decoration: none;
      color: var(--ink);
    }
    .quick .item .label {
      flex: 1 1 auto;
    }

    /* Bottom search */
    .bottom-search {
      padding: 10px 6px 18px;
    }
    .search {
      display: grid;
      grid-template-columns: 28px 1fr;
      align-items: center;
      gap: 8px;
      border: 2px solid var(--line);
      border-radius: 999px;
      padding: 10px 12px;
      background: var(--card);
    }
    .search .glass {
      text-align: center;
      font-size: 16px;
    }
    .search input {
      appearance: none;
      border: 0;
      outline: 0;
      background: transparent;
      width: 100%;
      font: inherit;
      color: var(--ink);
    }
    .search input::placeholder {
      color: var(--muted);
    }

    footer {
      background: var(--primary);
      color: #ffffff;
      text-align: center;
      font-size: 14px;
      padding: 20px;
    }

    /* Notification styles */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--primary);
      color: white;
      padding: 15px 20px;
      border-radius: var(--radius);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 12px;
      animation: slideIn 0.3s ease;
      max-width: 320px;
    }
    .notification-icon {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: var(--gold);
      display: grid;
      place-items: center;
      font-size: 18px;
    }
    .notification-content {
      flex: 1;
    }
    .notification-title {
      font-weight: 700;
      margin-bottom: 4px;
    }
    .notification-message {
      font-size: 14px;
      opacity: 0.9;
    }
    .notification-close {
      background: none;
      border: none;
      color: white;
      font-size: 20px;
      cursor: pointer;
      padding: 0;
      width: 24px;
      height: 24px;
      display: grid;
      place-items: center;
    }

    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    @keyframes slideOut {
      from { transform: translateX(0); opacity: 1; }
      to { transform: translateX(100%); opacity: 0; }
    }

    /* Larger screens */
    @media (min-width: 768px) {
      .shell { padding: 24px; }
    }
  </style>
</head>
<body>
  <div class="page">
    <header class="brand">
      <a href="home.html" class="home-btn" aria-label="Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©" data-ar="Ø±Ø¬ÙˆØ¹" data-en="Back">Ø±Ø¬ÙˆØ¹</a>
      <div class="logo-text">Ø­Ù€Ù€Ù€Ù€Ù€Ù€ÙŠÙ€Ù€Ù€Ù€Ø§Ùƒ</div>
      <div class="logo-sub">HAYYAK</div>
      <button class="translate-btn" id="translateBtn" aria-label="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ©">
        <span class="icon">ğŸŒ</span>
        <span>English</span>
      </button>
    </header>
    
    <main class="shell">
      <h1 class="page-title" data-ar="Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØµØ­ÙŠØ©/Ø§Ù„Ù†ÙØ³ÙŠØ©" data-en="Health & Psychological Issues">Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØµØ­ÙŠØ©/Ø§Ù„Ù†ÙØ³ÙŠØ©</h1>
      <p class="page-description" data-ar="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØµØ­ÙŠØ© ÙˆØ§Ù„Ù†ÙØ³ÙŠØ© Ù„ØªØ­Ø³ÙŠÙ† ØªØ¬Ø±Ø¨ØªÙƒ ÙˆØªÙ‚Ø¯ÙŠÙ… Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ùƒ" data-en="Manage health and psychological issues to improve your experience and provide appropriate recommendations">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØµØ­ÙŠØ© ÙˆØ§Ù„Ù†ÙØ³ÙŠØ© Ù„ØªØ­Ø³ÙŠÙ† ØªØ¬Ø±Ø¨ØªÙƒ ÙˆØªÙ‚Ø¯ÙŠÙ… Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ùƒ</p>

      <!-- Current Health Status Section -->
      <div class="health-status-section">
        <h2 class="section-title" data-ar="Ø­Ø§Ù„ØªÙŠ Ø§Ù„ØµØ­ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©" data-en="My Current Health Status">Ø­Ø§Ù„ØªÙŠ Ø§Ù„ØµØ­ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h2>
        <div class="status-card" id="health-summary">
          <!-- Will be populated by JavaScript -->
        </div>
      </div>

      <div class="health-categories" id="health-categories">
        <div class="health-cat active" data-category="all">
          <div class="health-emoji" style="background: #e0f2fe;">ğŸ‘¤</div>
          <div class="label" data-ar="Ø§Ù„ÙƒÙ„" data-en="All">Ø§Ù„ÙƒÙ„</div>
        </div>
        <div class="health-cat" data-category="physical">
          <div class="health-emoji" style="background: #dcfce7;">â¤ï¸</div>
          <div class="label" data-ar="ØµØ­ÙŠØ©" data-en="Physical">ØµØ­ÙŠØ©</div>
        </div>
        <div class="health-cat" data-category="psychological">
          <div class="health-emoji" style="background: #fef3c7;">ğŸ§ </div>
          <div class="label" data-ar="Ù†ÙØ³ÙŠØ©" data-en="Psychological">Ù†ÙØ³ÙŠØ©</div>
        </div>
      </div>

      <div class="conditions-section">
        <h2 class="section-title" data-ar="Ø­Ø§Ù„Ø§ØªÙŠ Ø§Ù„ØµØ­ÙŠØ©" data-en="My Health Conditions">Ø­Ø§Ù„Ø§ØªÙŠ Ø§Ù„ØµØ­ÙŠØ©</h2>
        <div class="conditions-list" id="conditions-list">
          <!-- Conditions will be populated by JavaScript -->
        </div>
      </div>

      <!-- Emergency Section with Creative Design -->
      <div class="emergency-section">
        <h2 class="section-title">ğŸš¨ <span data-ar="Ø§ØªØµØ§Ù„ Ø§Ù„Ø·ÙˆØ§Ø±Ø¦" data-en="Emergency Contact">Ø§ØªØµØ§Ù„ Ø§Ù„Ø·ÙˆØ§Ø±Ø¦</span></h2>
        <div class="emergency-card">
          <div class="emergency-icon">ğŸš¨</div>
          <div class="emergency-title" data-ar="Ø­Ø§Ù„Ø© Ø·Ø§Ø±Ø¦Ø©ØŸ Ù„Ø§ ØªØªØ±Ø¯Ø¯!" data-en="Emergency? Don't hesitate!">Ø­Ø§Ù„Ø© Ø·Ø§Ø±Ø¦Ø©ØŸ Ù„Ø§ ØªØªØ±Ø¯Ø¯!</div>
          <p class="emergency-text" data-ar="Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ù…ØªØ§Ø­Ø© Ø¹Ù„Ù‰ Ù…Ø¯Ø§Ø± 24 Ø³Ø§Ø¹Ø©. Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ø§Ù„Ø£Ø­Ù…Ø± Ù„Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±" data-en="Emergency services are available 24/7. Press the red button for direct contact">Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ù…ØªØ§Ø­Ø© Ø¹Ù„Ù‰ Ù…Ø¯Ø§Ø± 24 Ø³Ø§Ø¹Ø©. Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ø§Ù„Ø£Ø­Ù…Ø± Ù„Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±</p>
          <div class="emergency-buttons">
            <a href="tel:998" class="emergency-btn">
              <span>ğŸ“</span> <span data-ar="Ø·ÙˆØ§Ø±Ø¦ (998)" data-en="Emergency (998)">Ø·ÙˆØ§Ø±Ø¦ (998)</span>
            </a>
            <a href="tel:999" class="emergency-btn secondary">
              <span>ğŸš“</span> <span data-ar="Ø´Ø±Ø·Ø© (999)" data-en="Police (999)">Ø´Ø±Ø·Ø© (999)</span>
            </a>
          </div>
          <div style="margin-top: 12px; font-size: 12px; color: #7f1d1d;" data-ar="Ù…ØªØ§Ø­ Ø£ÙŠØ¶Ø§Ù‹: Ù©Ù©Ù§ (Ø§Ù„Ø¥Ø³Ø¹Ø§Ù) - Ù©Ù©Ù¦ (Ø§Ù„Ø¯ÙØ§Ø¹ Ø§Ù„Ù…Ø¯Ù†ÙŠ)" data-en="Also available: 997 (Ambulance) - 996 (Civil Defense)">
            Ù…ØªØ§Ø­ Ø£ÙŠØ¶Ø§Ù‹: Ù©Ù©Ù§ (Ø§Ù„Ø¥Ø³Ø¹Ø§Ù) - Ù©Ù©Ù¦ (Ø§Ù„Ø¯ÙØ§Ø¹ Ø§Ù„Ù…Ø¯Ù†ÙŠ)
          </div>
        </div>
      </div>

      <!-- Privacy Settings Section -->
      <div class="privacy-section">
        <h2 class="section-title" data-ar="Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®ØµÙˆØµÙŠØ©" data-en="Privacy Settings">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®ØµÙˆØµÙŠØ©</h2>
        <div class="privacy-options">
          <div class="privacy-item">
            <div class="privacy-text">
              <h4 data-ar="Ù…Ø´Ø§Ø±ÙƒØ© Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙŠ Ø§Ù„ØµØ­ÙŠØ©" data-en="Share My Health Information">Ù…Ø´Ø§Ø±ÙƒØ© Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙŠ Ø§Ù„ØµØ­ÙŠØ©</h4>
              <p data-ar="Ø§Ù„Ø³Ù…Ø§Ø­ Ù„Ù„Ù…Ø·Ø§Ø¹Ù… ÙˆØ§Ù„Ù…ØªØ§Ø¬Ø± Ø¨Ù…Ø¹Ø±ÙØ© Ù…ØªØ·Ù„Ø¨Ø§ØªÙƒ Ø§Ù„ØµØ­ÙŠØ©" data-en="Allow restaurants and stores to know your health requirements">Ø§Ù„Ø³Ù…Ø§Ø­ Ù„Ù„Ù…Ø·Ø§Ø¹Ù… ÙˆØ§Ù„Ù…ØªØ§Ø¬Ø± Ø¨Ù…Ø¹Ø±ÙØ© Ù…ØªØ·Ù„Ø¨Ø§ØªÙƒ Ø§Ù„ØµØ­ÙŠØ©</p>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" id="share-health-info">
              <span class="toggle-slider"></span>
            </label>
          </div>
          
          <div class="privacy-item">
            <div class="privacy-text">
              <h4 data-ar="ØªÙˆØµÙŠØ§Øª Ù…Ø®ØµØµØ©" data-en="Personalized Recommendations">ØªÙˆØµÙŠØ§Øª Ù…Ø®ØµØµØ©</h4>
              <p data-ar="Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„ØµØ­ÙŠØ© Ù„ØªÙ‚Ø¯ÙŠÙ… ØªÙˆØµÙŠØ§Øª Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ùƒ" data-en="Use your health information to provide appropriate recommendations">Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„ØµØ­ÙŠØ© Ù„ØªÙ‚Ø¯ÙŠÙ… ØªÙˆØµÙŠØ§Øª Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ùƒ</p>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" id="personalized-recommendations">
              <span class="toggle-slider"></span>
            </label>
          </div>
          
          <div class="privacy-item">
            <div class="privacy-text">
              <h4 data-ar="Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„ØµØ­ÙŠØ©" data-en="Healthcare Notifications">Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„ØµØ­ÙŠØ©</h4>
              <p data-ar="ØªÙ„Ù‚ÙŠ ØªØ°ÙƒÙŠØ±Ø§Øª ÙˆÙ†ØµØ§Ø¦Ø­ ØµØ­ÙŠØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø­Ø§Ù„ØªÙƒ" data-en="Receive reminders and health tips based on your condition">ØªÙ„Ù‚ÙŠ ØªØ°ÙƒÙŠØ±Ø§Øª ÙˆÙ†ØµØ§Ø¦Ø­ ØµØ­ÙŠØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø­Ø§Ù„ØªÙƒ</p>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" id="health-notifications">
              <span class="toggle-slider"></span>
            </label>
          </div>
        </div>
      </div>
      
      <!-- Quick Links -->
      <div class="bottom-search">
        <div class="search">
          <div class="glass">ğŸ”</div>
          <input type="search" 
                 placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø­Ø§Ù„Ø© ØµØ­ÙŠØ© Ø£Ùˆ Ø¯ÙˆØ§Ø¡" 
                 data-ar-placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø­Ø§Ù„Ø© ØµØ­ÙŠØ© Ø£Ùˆ Ø¯ÙˆØ§Ø¡" 
                 data-en-placeholder="Search for health condition or medication" 
                 aria-label="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø­Ø§Ù„Ø© ØµØ­ÙŠØ© Ø£Ùˆ Ø¯ÙˆØ§Ø¡" 
                 id="health-search" />
        </div>
      </div>
    </main>

    <footer data-ar="Â© Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¨Ù† Ù†Ø§ØµØ±-Ø­ÙŠØ§Ùƒ" data-en="Â© Abdullah bin Nasser - Hayyak">Â© Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¨Ù† Ù†Ø§ØµØ±-Ø­ÙŠØ§Ùƒ</footer>
  </div>

  <script>
    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„ØµØ­ÙŠØ©
    const healthConditions = [
      {
        id: 1,
        name: "Ø­Ø³Ø§Ø³ÙŠØ© Ø§Ù„Ø·Ø¹Ø§Ù…",
        description: "Ø­Ø³Ø§Ø³ÙŠØ© Ù…Ù† Ø§Ù„Ù…ÙƒØ³Ø±Ø§Øª ÙˆØ§Ù„Ø£Ø³Ù…Ø§Ùƒ",
        category: "physical",
        icon: "ğŸ¤§",
        color: "#fef3c7",
        enabled: true,
        medication: "Ù…Ø¶Ø§Ø¯Ø§Øª Ø§Ù„Ù‡ÙŠØ³ØªØ§Ù…ÙŠÙ†",
        medicationTime: "Ù‚Ø¨Ù„ Ø§Ù„Ø£ÙƒÙ„ Ø¨Ù€ 30 Ø¯Ù‚ÙŠÙ‚Ø©",
        nameEn: "Food Allergy",
        descriptionEn: "Allergy to nuts and fish",
        medicationEn: "Antihistamines",
        medicationTimeEn: "30 minutes before meals"
      },
      {
        id: 2,
        name: "Ø§Ù„Ø³ÙƒØ±ÙŠ",
        description: "Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ - ÙŠØ­ØªØ§Ø¬ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø³ÙƒØ±",
        category: "physical",
        icon: "ğŸ’‰",
        color: "#dcfce7",
        enabled: true,
        medication: "Ù…ÙŠØªÙÙˆØ±Ù…ÙŠÙ†",
        medicationTime: "ØµØ¨Ø§Ø­Ø§Ù‹ ÙˆÙ…Ø³Ø§Ø¡Ù‹",
        nameEn: "Diabetes",
        descriptionEn: "Type 2 - Requires sugar monitoring",
        medicationEn: "Metformin",
        medicationTimeEn: "Morning and evening"
      },
      {
        id: 3,
        name: "Ø¶ØºØ· Ø§Ù„Ø¯Ù…",
        description: "Ø¶ØºØ· Ø¯Ù… Ù…Ø±ØªÙØ¹ - ÙŠØ­ØªØ§Ø¬ Ù…Ø±Ø§Ù‚Ø¨Ø©",
        category: "physical",
        icon: "ğŸ«€",
        color: "#fee2e2",
        enabled: false,
        medication: "Ø£Ù…Ù„ÙˆØ¯ÙŠØ¨ÙŠÙ†",
        medicationTime: "ØµØ¨Ø§Ø­Ø§Ù‹",
        nameEn: "High Blood Pressure",
        descriptionEn: "High blood pressure - Requires monitoring",
        medicationEn: "Amlodipine",
        medicationTimeEn: "Morning"
      },
      {
        id: 4,
        name: "Ø§Ù„Ù‚Ù„Ù‚",
        description: "Ù‚Ù„Ù‚ Ø¹Ø§Ù… - ÙŠØ­ØªØ§Ø¬ Ø£Ù…Ø§ÙƒÙ† Ù‡Ø§Ø¯Ø¦Ø©",
        category: "psychological",
        icon: "ğŸ˜°",
        color: "#e0e7ff",
        enabled: true,
        medication: "Ø³ÙŠØ±ØªØ±Ø§Ù„ÙŠÙ†",
        medicationTime: "Ù…Ø³Ø§Ø¡Ù‹",
        nameEn: "Anxiety",
        descriptionEn: "General anxiety - Needs quiet places",
        medicationEn: "Sertraline",
        medicationTimeEn: "Evening"
      },
      {
        id: 5,
        name: "Ø§Ù„Ø§ÙƒØªØ¦Ø§Ø¨",
        description: "Ø§ÙƒØªØ¦Ø§Ø¨ Ø®ÙÙŠÙ - ÙŠØ­ØªØ§Ø¬ Ø¯Ø¹Ù…",
        category: "psychological",
        icon: "ğŸ˜”",
        color: "#f3e8ff",
        enabled: false,
        medication: "ÙÙ„ÙˆÙƒØ³ØªÙŠÙ†",
        medicationTime: "ØµØ¨Ø§Ø­Ø§Ù‹",
        nameEn: "Depression",
        descriptionEn: "Mild depression - Needs support",
        medicationEn: "Fluoxetine",
        medicationTimeEn: "Morning"
      },
      {
        id: 6,
        name: "Ø­Ø³Ø§Ø³ÙŠØ© Ø§Ù„Ù„Ø­ÙˆÙ…",
        description: "Ø­Ø³Ø§Ø³ÙŠØ© Ù…Ù† Ø§Ù„Ù„Ø­ÙˆÙ… Ø§Ù„Ø­Ù…Ø±Ø§Ø¡",
        category: "physical",
        icon: "ğŸ¥©",
        color: "#fef3c7",
        enabled: true,
        medication: "Ø¯ÙˆØ§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø³ÙŠØ©",
        medicationTime: "Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©",
        nameEn: "Meat Allergy",
        descriptionEn: "Allergy to red meat",
        medicationEn: "Allergy medication",
        medicationTimeEn: "As needed"
      },
      {
        id: 7,
        name: "Ø§Ù„Ø£Ø±Ù‚",
        description: "ØµØ¹ÙˆØ¨Ø© ÙÙŠ Ø§Ù„Ù†ÙˆÙ…",
        category: "psychological",
        icon: "ğŸ˜´",
        color: "#e0e7ff",
        enabled: true,
        medication: "Ø§Ù„Ù…ÙŠÙ„Ø§ØªÙˆÙ†ÙŠÙ†",
        medicationTime: "Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ… Ø¨Ù€ Ø³Ø§Ø¹Ø©",
        nameEn: "Insomnia",
        descriptionEn: "Difficulty sleeping",
        medicationEn: "Melatonin",
        medicationTimeEn: "1 hour before bedtime"
      }
    ];

    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†ØµØ§Ø¦Ø­ Ø§Ù„ØµØ­ÙŠØ©
    const healthTips = [
      "ğŸ’Š ØªØ°ÙƒØ± ØªÙ†Ø§ÙˆÙ„ Ø£Ø¯ÙˆÙŠØªÙƒ ÙÙŠ Ù…ÙˆØ¹Ø¯Ù‡Ø§",
      "ğŸ¥— ØªÙ†Ø§ÙˆÙ„ ÙˆØ¬Ø¨Ø© Ø¥ÙØ·Ø§Ø± ØµØ­ÙŠØ© Ù„ØªØ¨Ø¯Ø£ ÙŠÙˆÙ…Ùƒ Ø¨Ù†Ø´Ø§Ø·",
      "ğŸ’§ Ø§Ø´Ø±Ø¨ 8 Ø£ÙƒÙˆØ§Ø¨ Ù…Ù† Ø§Ù„Ù…Ø§Ø¡ ÙŠÙˆÙ…ÙŠØ§Ù‹",
      "ğŸš¶â€â™‚ï¸ Ø§Ù…Ø´Ù 30 Ø¯Ù‚ÙŠÙ‚Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹ Ù„ØµØ­Ø© Ù‚Ù„Ø¨Ùƒ",
      "ğŸ§˜â€â™‚ï¸ Ø®Ø° Ù‚Ø³Ø·Ø§Ù‹ Ù…Ù† Ø§Ù„Ø±Ø§Ø­Ø© ÙˆØ§Ù„ØªØ£Ù…Ù„ Ù„ØªØ®ÙÙŠÙ Ø§Ù„Ù‚Ù„Ù‚",
      "ğŸ“‹ ØªØ§Ø¨Ø¹ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø³ÙƒØ± Ø¨Ø§Ù†ØªØ¸Ø§Ù… Ø¥Ø°Ø§ ÙƒÙ†Øª Ù…Ø±ÙŠØ¶ Ø³ÙƒØ±ÙŠ",
      "ğŸ˜Š Ø§Ù„Ø§Ø¨ØªØ³Ø§Ù… ÙŠÙ‚Ù„Ù„ Ø§Ù„ØªÙˆØªØ± ÙˆÙŠØ­Ø³Ù† Ø§Ù„Ù…Ø²Ø§Ø¬",
      "ğŸ¥¦ ØªØ¬Ù†Ø¨ Ø§Ù„Ø£Ø·Ø¹Ù…Ø© Ø§Ù„Ù…Ø³Ø¨Ø¨Ø© Ù„Ù„Ø­Ø³Ø§Ø³ÙŠØ©",
      "ğŸŒ ØªØ¹Ø±Ø¶ Ù„Ø£Ø´Ø¹Ø© Ø§Ù„Ø´Ù…Ø³ Ø§Ù„ØµØ¨Ø§Ø­ÙŠØ© Ù„ÙÙŠØªØ§Ù…ÙŠÙ† Ø¯",
      "ğŸ§  ØªÙ…Ø±Ù† Ø¹Ù‚Ù„Ùƒ Ø¨Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙˆØ§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø°Ù‡Ù†ÙŠØ©"
    ];

    // English health tips
    const healthTipsEn = [
      "ğŸ’Š Remember to take your medications on time",
      "ğŸ¥— Eat a healthy breakfast to start your day energetically",
      "ğŸ’§ Drink 8 glasses of water daily",
      "ğŸš¶â€â™‚ï¸ Walk 30 minutes daily for heart health",
      "ğŸ§˜â€â™‚ï¸ Take a break and meditate to reduce anxiety",
      "ğŸ“‹ Monitor your sugar regularly if you have diabetes",
      "ğŸ˜Š Smiling reduces stress and improves mood",
      "ğŸ¥¦ Avoid foods that cause allergies",
      "ğŸŒ Get morning sun exposure for Vitamin D",
      "ğŸ§  Exercise your brain with reading and mental games"
    ];

    // Language state
    let currentLanguage = 'ar';

    // Translation function
    function toggleLanguage() {
      const btn = document.getElementById('translateBtn');
      btn.classList.add('switching');
      
      // Switch language
      currentLanguage = currentLanguage === 'ar' ? 'en' : 'ar';
      
      // Update button text
      const langText = btn.querySelector('span:last-child');
      langText.textContent = currentLanguage === 'ar' ? 'English' : 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©';
      
      // Update page direction
      document.documentElement.dir = currentLanguage === 'ar' ? 'rtl' : 'ltr';
      document.documentElement.lang = currentLanguage;
      
      // Update page title
      document.title = currentLanguage === 'ar' ? 'Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØµØ­ÙŠØ©/Ø§Ù„Ù†ÙØ³ÙŠØ© | Ø­ÙŠØ§Ùƒ' : 'Health & Psychological Issues | Hayyak';
      
      // Translate all content including header and footer
      translateAllContent();
      
      // Re-render health summary
      renderHealthSummary();
      
      // Re-render conditions list
      const activeCategory = document.querySelector('.health-cat.active').dataset.category;
      renderConditions(activeCategory);
      
      // Show notification
      showNotification(currentLanguage === 'ar' ? 'ØªÙ… Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©' : 'Switched to English');
      
      // Remove animation class
      setTimeout(() => {
        btn.classList.remove('switching');
      }, 500);
    }
    
    // Translate all content including header and footer
    function translateAllContent() {
      // Translate elements with data attributes in the entire document
      document.querySelectorAll('[data-ar], [data-en]').forEach(element => {
        if (element.hasAttribute('data-ar') && element.hasAttribute('data-en')) {
          element.textContent = currentLanguage === 'ar' ? element.getAttribute('data-ar') : element.getAttribute('data-en');
        }
      });
      
      // Translate placeholders
      document.querySelectorAll('[data-ar-placeholder], [data-en-placeholder]').forEach(element => {
        if (element.hasAttribute('data-ar-placeholder') && element.hasAttribute('data-en-placeholder')) {
          element.placeholder = currentLanguage === 'ar' ? element.getAttribute('data-ar-placeholder') : element.getAttribute('data-en-placeholder');
        }
      });
      
      // Update aria-label for home button
      const homeBtn = document.querySelector('.home-btn');
      if (homeBtn) {
        homeBtn.setAttribute('aria-label', currentLanguage === 'ar' ? 'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©' : 'Home');
      }
      
      // Update aria-label for translate button
      const translateBtn = document.getElementById('translateBtn');
      if (translateBtn) {
        translateBtn.setAttribute('aria-label', currentLanguage === 'ar' ? 'ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ©' : 'Toggle Language');
      }
      
      // Update aria-label for search input
      const searchInput = document.getElementById('health-search');
      if (searchInput) {
        searchInput.setAttribute('aria-label', currentLanguage === 'ar' ? 'Ø§Ø¨Ø­Ø« Ø¹Ù† Ø­Ø§Ù„Ø© ØµØ­ÙŠØ© Ø£Ùˆ Ø¯ÙˆØ§Ø¡' : 'Search for health condition or medication');
      }
    }

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ù…Ù† localStorage
    function loadHealthConditions() {
      const savedConditions = localStorage.getItem('hayyak_health_conditions');
      if (savedConditions) {
        return JSON.parse(savedConditions);
      }
      // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©
      saveHealthConditions(healthConditions);
      return healthConditions;
    }

    // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ localStorage
    function saveHealthConditions(conditions) {
      localStorage.setItem('hayyak_health_conditions', JSON.stringify(conditions));
    }

    // ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®ØµÙˆØµÙŠØ©
    function loadPrivacySettings() {
      return {
        shareHealthInfo: localStorage.getItem('shareHealthInfo') !== 'false',
        personalizedRecommendations: localStorage.getItem('personalizedRecommendations') !== 'false',
        healthNotifications: localStorage.getItem('healthNotifications') !== 'false'
      };
    }

    // Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®ØµÙˆØµÙŠØ©
    function savePrivacySettings() {
      const settings = {
        shareHealthInfo: document.getElementById('share-health-info').checked,
        personalizedRecommendations: document.getElementById('personalized-recommendations').checked,
        healthNotifications: document.getElementById('health-notifications').checked
      };
      
      localStorage.setItem('shareHealthInfo', settings.shareHealthInfo);
      localStorage.setItem('personalizedRecommendations', settings.personalizedRecommendations);
      localStorage.setItem('healthNotifications', settings.healthNotifications);
      
      return settings;
    }

    // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
    function loadProfileData() {
      return JSON.parse(localStorage.getItem('hayyak_user_profile') || '{}');
    }

    // Ø¹Ø±Ø¶ Ù…Ù„Ø®Øµ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ØµØ­ÙŠØ©
    function renderHealthSummary() {
      const conditions = loadHealthConditions();
      const activeConditions = conditions.filter(c => c.enabled);
      const physicalConditions = activeConditions.filter(c => c.category === 'physical');
      const psychologicalConditions = activeConditions.filter(c => c.category === 'psychological');
      
      const summaryHtml = `
        <div class="status-header">
          <div class="status-icon">ğŸ“‹</div>
          <div class="status-title">${currentLanguage === 'ar' ? 'Ù…Ù„Ø®Øµ ØµØ­ØªÙŠ' : 'My Health Summary'}</div>
        </div>
        <div class="status-list">
          <div class="status-item">
            <div class="status-item-icon" style="background: #dcfce7;">â¤ï¸</div>
            <div>${currentLanguage === 'ar' ? 'Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„ØµØ­ÙŠØ© Ø§Ù„Ù†Ø´Ø·Ø©:' : 'Active Physical Conditions:'} ${physicalConditions.length}</div>
          </div>
          <div class="status-item">
            <div class="status-item-icon" style="background: #fef3c7;">ğŸ§ </div>
            <div>${currentLanguage === 'ar' ? 'Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù†ÙØ³ÙŠØ© Ø§Ù„Ù†Ø´Ø·Ø©:' : 'Active Psychological Conditions:'} ${psychologicalConditions.length}</div>
          </div>
          <div class="status-item">
            <div class="status-item-icon" style="background: #e0f2fe;">ğŸ’Š</div>
            <div>${currentLanguage === 'ar' ? 'Ø§Ù„Ø£Ø¯ÙˆÙŠØ© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©:' : 'Daily Medications:'} ${activeConditions.filter(c => c.medication).length}</div>
          </div>
        </div>
      `;
      
      document.getElementById('health-summary').innerHTML = summaryHtml;
    }

    // Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„ØµØ­ÙŠØ©
    function renderConditions(category = 'all') {
      const conditions = loadHealthConditions();
      const container = document.getElementById('conditions-list');
      
      let filteredConditions = conditions;
      if (category !== 'all') {
        filteredConditions = conditions.filter(cond => cond.category === category);
      }
      
      container.innerHTML = filteredConditions.map(condition => {
        const name = currentLanguage === 'ar' ? condition.name : (condition.nameEn || condition.name);
        const description = currentLanguage === 'ar' ? condition.description : (condition.descriptionEn || condition.description);
        const medication = currentLanguage === 'ar' ? condition.medication : (condition.medicationEn || condition.medication);
        const medicationTime = currentLanguage === 'ar' ? condition.medicationTime : (condition.medicationTimeEn || condition.medicationTime);
        
        return `
          <div class="condition-item" data-id="${condition.id}">
            <div class="condition-info">
              <div class="condition-icon" style="background: ${condition.color}">
                ${condition.icon}
              </div>
              <div class="condition-text">
                <h4>${name}</h4>
                <p>${description}</p>
                ${condition.enabled && medication ? 
                  `<div style="font-size: 11px; color: #10b981; margin-top: 2px;">
                    ğŸ’Š ${medication} - ${medicationTime}
                  </div>` : ''
                }
              </div>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" ${condition.enabled ? 'checked' : ''} onchange="toggleCondition(${condition.id})">
              <span class="toggle-slider"></span>
            </label>
          </div>
        `;
      }).join('');
    }

    // ØªØ¨Ø¯ÙŠÙ„ ØªÙØ¹ÙŠÙ„/ØªØ¹Ø·ÙŠÙ„ Ø­Ø§Ù„Ø© ØµØ­ÙŠØ©
    function toggleCondition(id) {
      const conditions = loadHealthConditions();
      const index = conditions.findIndex(cond => cond.id === id);
      
      if (index !== -1) {
        conditions[index].enabled = !conditions[index].enabled;
        saveHealthConditions(conditions);
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ø®Øµ
        renderHealthSummary();
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯
        const conditionName = currentLanguage === 'ar' ? conditions[index].name : (conditions[index].nameEn || conditions[index].name);
        const message = currentLanguage === 'ar' ? 
          `ØªÙ… ${conditions[index].enabled ? 'ØªÙØ¹ÙŠÙ„' : 'ØªØ¹Ø·ÙŠÙ„'} ${conditionName}` :
          `${conditionName} has been ${conditions[index].enabled ? 'enabled' : 'disabled'}`;
        
        showNotification(message);
      }
    }

    // Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
    function showNotification(message, type = 'info') {
      // Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø³Ø§Ø¨Ù‚Ø©
      const existingNotification = document.querySelector('.notification');
      if (existingNotification) {
        existingNotification.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => existingNotification.remove(), 300);
      }
      
      // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯
      const notification = document.createElement('div');
      notification.className = 'notification';
      notification.innerHTML = `
        <div class="notification-icon">${type === 'emergency' ? 'ğŸš¨' : 'ğŸ’¡'}</div>
        <div class="notification-content">
          <div class="notification-title">${type === 'emergency' ? 
            (currentLanguage === 'ar' ? 'ØªÙ†Ø¨ÙŠÙ‡ ØµØ­ÙŠ' : 'Health Alert') : 
            (currentLanguage === 'ar' ? 'Ù†ØµÙŠØ­Ø© ØµØ­ÙŠØ©' : 'Health Tip')}</div>
          <div class="notification-message">${message}</div>
        </div>
        <button class="notification-close" onclick="this.parentElement.style.animation='slideOut 0.3s ease'; setTimeout(() => this.parentElement.remove(), 300)">Ã—</button>
      `;
      
      document.body.appendChild(notification);
      
      // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ø¹Ø¯ 5 Ø«ÙˆØ§Ù†Ù
      setTimeout(() => {
        if (notification.parentNode) {
          notification.style.animation = 'slideOut 0.3s ease';
          setTimeout(() => notification.remove(), 300);
        }
      }, 5000);
    }

    // Ø¥Ø¸Ù‡Ø§Ø± Ù†ØµØ§Ø¦Ø­ ØµØ­ÙŠØ© (Ù„ØµÙØ­Ø© index.html)
    function showHealthAdvice() {
      const settings = loadPrivacySettings();
      
      // ÙÙ‚Ø· Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙØ¹Ù„ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„ØµØ­ÙŠØ©
      if (settings.healthNotifications) {
        const randomTip = currentLanguage === 'ar' ? 
          healthTips[Math.floor(Math.random() * healthTips.length)] :
          healthTipsEn[Math.floor(Math.random() * healthTipsEn.length)];
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        if (window.location.pathname.includes('index.html') || 
            window.location.pathname.endsWith('/')) {
          // Ø§Ù†ØªØ¸Ø± Ø­ØªÙ‰ ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
          setTimeout(() => {
            showNotification(randomTip, 'info');
          }, 2000);
        }
      }
    }

    // Ø¥Ø¸Ù‡Ø§Ø± Ø£Ù…Ø§ÙƒÙ† Ø²Ø§Ø±Ù‡Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (ÙˆÙ‡Ù…ÙŠ)
    function showVisitedPlaces() {
      const message = currentLanguage === 'ar' ? 
        "Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ø£Ù…Ø§ÙƒÙ† Ø§Ù„ØªÙŠ Ø²Ø±ØªÙ‡Ø§ Ù‚Ø±ÙŠØ¨Ø§Ù‹" : 
        "Visited places will be shown soon";
      showNotification(message);
    }

    // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„ØµØ­ÙŠØ©
    document.getElementById('health-search').addEventListener('input', function(e) {
      const searchTerm = e.target.value.toLowerCase();
      const conditions = loadHealthConditions();
      const container = document.getElementById('conditions-list');
      
      if (!searchTerm) {
        const activeCategory = document.querySelector('.health-cat.active').dataset.category;
        renderConditions(activeCategory);
        return;
      }
      
      const filteredConditions = conditions.filter(cond => {
        const name = currentLanguage === 'ar' ? cond.name : (cond.nameEn || cond.name);
        const description = currentLanguage === 'ar' ? cond.description : (cond.descriptionEn || cond.description);
        const medication = currentLanguage === 'ar' ? cond.medication : (cond.medicationEn || cond.medication);
        
        return name.toLowerCase().includes(searchTerm) || 
               description.toLowerCase().includes(searchTerm) ||
               (medication && medication.toLowerCase().includes(searchTerm));
      });
      
      container.innerHTML = filteredConditions.map(condition => {
        const name = currentLanguage === 'ar' ? condition.name : (condition.nameEn || condition.name);
        const description = currentLanguage === 'ar' ? condition.description : (condition.descriptionEn || condition.description);
        
        return `
          <div class="condition-item" data-id="${condition.id}">
            <div class="condition-info">
              <div class="condition-icon" style="background: ${condition.color}">
                ${condition.icon}
              </div>
              <div class="condition-text">
                <h4>${name}</h4>
                <p>${description}</p>
              </div>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" ${condition.enabled ? 'checked' : ''} onchange="toggleCondition(${condition.id})">
              <span class="toggle-slider"></span>
            </label>
          </div>
        `;
      }).join('');
    });

    // ØªØµÙÙŠØ© Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©
    document.querySelectorAll('.health-cat').forEach(cat => {
      cat.addEventListener('click', function() {
        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø· Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª
        document.querySelectorAll('.health-cat').forEach(c => c.classList.remove('active'));
        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù†Ø´Ø· Ù„Ù„ÙØ¦Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
        this.classList.add('active');
        
        const category = this.dataset.category;
        renderConditions(category);
      });
    });

    // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®ØµÙˆØµÙŠØ© - Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
    document.getElementById('share-health-info').addEventListener('change', function() {
      savePrivacySettings();
      
      const profile = loadProfileData();
      const conditions = loadHealthConditions();
      const activeConditions = conditions.filter(c => c.enabled);
      
      if (this.checked) {
        // Ø­ÙØ¸ Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„ØµØ­ÙŠØ© Ø§Ù„Ù†Ø´Ø·Ø© ÙÙŠ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
        profile.healthConditions = activeConditions.map(c => 
          currentLanguage === 'ar' ? c.name : (c.nameEn || c.name)
        );
        localStorage.setItem('hayyak_user_profile', JSON.stringify(profile));
        showNotification(currentLanguage === 'ar' ? 
          "Ø³ÙŠØªÙ… Ù…Ø´Ø§Ø±ÙƒØ© Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„ØµØ­ÙŠØ© Ù…Ø¹ Ø§Ù„Ù…Ø·Ø§Ø¹Ù… ÙˆØ§Ù„Ù…ØªØ§Ø¬Ø±" : 
          "Your health information will be shared with restaurants and stores");
      } else {
        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„ØµØ­ÙŠØ© Ù…Ù† Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
        delete profile.healthConditions;
        localStorage.setItem('hayyak_user_profile', JSON.stringify(profile));
        showNotification(currentLanguage === 'ar' ? 
          "ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ù…Ø´Ø§Ø±ÙƒØ© Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„ØµØ­ÙŠØ©" : 
          "Health information sharing has been stopped");
      }
    });

    document.getElementById('personalized-recommendations').addEventListener('change', function() {
      savePrivacySettings();
      showNotification(this.checked ? 
        (currentLanguage === 'ar' ? 
          "Ø³ØªØ­ØµÙ„ Ø¹Ù„Ù‰ ØªÙˆØµÙŠØ§Øª Ù…Ø®ØµØµØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø­Ø§Ù„ØªÙƒ Ø§Ù„ØµØ­ÙŠØ©" : 
          "You will receive personalized recommendations based on your health condition") : 
        (currentLanguage === 'ar' ? 
          "ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù…Ø®ØµØµØ©" : 
          "Personalized recommendations have been stopped"));
    });

    document.getElementById('health-notifications').addEventListener('change', function() {
      savePrivacySettings();
      showNotification(this.checked ? 
        (currentLanguage === 'ar' ? 
          "Ø³ØªØªÙ„Ù‚Ù‰ Ù†ØµØ§Ø¦Ø­ ÙˆØªØ°ÙƒÙŠØ±Ø§Øª ØµØ­ÙŠØ©" : 
          "You will receive health tips and reminders") : 
        (currentLanguage === 'ar' ? 
          "ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„ØµØ­ÙŠØ©" : 
          "Health notifications have been stopped"));
    });

    // ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù…Ù„Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    const userProfile = JSON.parse(localStorage.getItem('hayyak_user_profile'));
    if (!userProfile) {
      window.location.href = 'index.html';
    }

    // Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
    document.addEventListener('DOMContentLoaded', function() {
      // Add click event to translate button
      document.getElementById('translateBtn').addEventListener('click', toggleLanguage);
      
      // Apply profile language
      if (userProfile && userProfile.language && userProfile.language !== currentLanguage) {
        currentLanguage = userProfile.language;
        document.documentElement.dir = currentLanguage === 'ar' ? 'rtl' : 'ltr';
        document.documentElement.lang = currentLanguage;
        const btn = document.getElementById('translateBtn');
        if (btn) {
          const langText = btn.querySelector('span:last-child');
          if (langText) langText.textContent = currentLanguage === 'ar' ? 'English' : 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©';
        }
        translateAllContent();
      }

      // Initial rendering
      renderHealthSummary();
      renderConditions();
      
      // ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®ØµÙˆØµÙŠØ©
      const settings = loadPrivacySettings();
      document.getElementById('share-health-info').checked = settings.shareHealthInfo;
      document.getElementById('personalized-recommendations').checked = settings.personalizedRecommendations;
      document.getElementById('health-notifications').checked = settings.healthNotifications;
      
      // Ø¥Ø¶Ø§ÙØ© Ø£Ù†Ù…Ø§Ø· Ù„Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ©
      const style = document.createElement('style');
      style.textContent = `
        @keyframes slideIn {
          from { transform: translateX(100%); opacity: 0; }
          to { transform: translateX(0); opacity: 1; }
        }
        @keyframes slideOut {
          from { transform: translateX(0); opacity: 1; }
          to { transform: translateX(100%); opacity: 0; }
        }
      `;
      document.head.appendChild(style);
      
      // Ø¹Ø±Ø¶ Ù†ØµÙŠØ­Ø© ØµØ­ÙŠØ© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù…ÙØ¹Ù„Ø©
      if (settings.healthNotifications) {
        setTimeout(() => {
          const randomTip = currentLanguage === 'ar' ? 
            healthTips[Math.floor(Math.random() * healthTips.length)] :
            healthTipsEn[Math.floor(Math.random() * healthTipsEn.length)];
          showNotification(randomTip, 'info');
        }, 3000);
      }
    });
  </script>
</body>
</html>