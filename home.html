<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ø­ÙŠØ§Ùƒ | HAYYAK</title>
  <meta name="description" content="Ø§Ù‡Ù„ÙŠÙ†ØŒ ÙˆÙŠÙ† Ø­Ø§Ø¨ ØªØ±ÙˆØ­ Ø§Ù„ÙŠÙˆÙ…ØŸ Ø§ÙƒØªØ´Ù Ø§Ù„Ù…ØªØ§Ø¬Ø±ØŒ Ø§Ù„Ù…Ø·Ø§Ø¹Ù…ØŒ Ø§Ù„Ø³ÙŠØ§Ø­Ø©ØŒ Ø§Ù„Ø´ÙˆØ§Ø·Ø¦ØŒ ÙˆØ§Ù„ÙÙ†Ø§Ø¯Ù‚ Ù…Ø¹ Ø£ÙØ¶Ù„ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„ÙŠÙˆÙ…ÙŠØ©." />
  <link rel="icon" type="image/jpeg" href="favicon.jpeg">
  
  <!-- Google Fonts: Cairo -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">

  <script>
    // Check for user profile - Run immediately
    if (!localStorage.getItem('hayyak_user_profile')) {
      window.location.href = 'index.html';
    }
  </script>

  <!-- Afeesh local fonts (single family name, multiple weights) -->
  <style>
    /* Map several available Afeesh font files to one family name for easy usage */
    @font-face {
      font-family: 'Afeesh';
      src: url('./afeesh/Afeesh-Aadi.woff2') format('woff2'),
           url('./afeesh/Afeesh-Aadi.woff') format('woff'),
           url('./afeesh/Afeesh-Aadi.ttf') format('truetype');
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }
    @font-face {
      font-family: 'Afeesh';
      src: url('./afeesh/Afeesh-Mekalbaz.woff2') format('woff2'),
           url('./afeesh/Afeesh-Mekalbaz.woff') format('woff'),
           url('./afeesh/Afeesh-Mekalbaz.ttf') format('truetype');
      font-weight: 700;
      font-style: normal;
      font-display: swap;
    }
    @font-face {
      font-family: 'Afeesh';
      src: url('./afeesh/Afeesh-NosMekalbaz.woff2') format('woff2'),
           url('./afeesh/Afeesh-NosMekalbaz.woff') format('woff'),
           url('./afeesh/Afeesh-NosMekalbaz.ttf') format('truetype');
      font-weight: 600;
      font-style: normal;
      font-display: swap;
    }
    @font-face {
      font-family: 'Afeesh';
      src: url('afeesh/Afeesh-NosMesalwa.woff2') format('woff2'),
           url('afeesh/Afeesh-NosMesalwa.woff') format('woff'),
           url('afeesh/Afeesh-NosMesalwa.ttf') format('truetype');
      font-weight: 300;
      font-style: normal;
      font-display: swap;
    }

    :root {
      --bg: #f5f5f7;
      --card: #ffffff;
      --ink: #0f0f10;
      --muted: #6b7280;
      --line: #0f0f10;
      --accent: #0f0f10;
      --radius: 14px;
    }

    * { box-sizing: border-box; }

    html, body {
      height: 100%;
      background: var(--bg);
    }

    body {
      margin: 0;
      font-family: 'Cairo', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--ink);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .page {
      min-height: 100%;
      display: grid;
      grid-template-rows: auto 1fr auto;
    }

    /* Phone-width centered container to resemble the mockup, but responsive */
    .shell {
      width: 100%;
      max-width: 420px; /* close to the phone width in the screenshot */
      margin: 0 auto;
      padding: 16px;
    }

    .card {
      background: var(--card);
      border: 2px solid var(--line);
      border-radius: var(--radius);
      box-shadow: 0 2px 0 #0f0f10;
    }

    header.brand {
      text-align: center;
      margin: 0;
      background: #16243d;
      color: #ffffff;
      padding: 20px;
      position: relative;
    }
    .logo-text {
      font-family: 'Afeesh', sans-serif;
      font-weight: 700;
      font-size: 48px;
      letter-spacing: 2px;
       color: #d4af37;
    }
    .logo-sub {
      font-family: 'Afeesh', sans-serif;
      font-weight: 600;
      color: #94a3b8;
      font-size: 20px;
      margin-top: 2px;
      letter-spacing: 3px;
    }
    
    /* Translate Button Styles */
    .translate-btn {
      position: absolute;
      top: 50%;
      right: 20px;
      transform: translateY(-50%);
      background: #d4af37;
      border: 2px solid #ffffff;
      border-radius: 20px;
      color: #16243d;
      padding: 6px 14px;
      font-weight: 700;
      font-size: 13px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: all 0.3s ease;
      box-shadow: 0 3px 10px rgba(212, 175, 55, 0.3);
      z-index: 100;
    }
    
    .translate-btn:hover {
      transform: translateY(-50%) scale(1.05);
      box-shadow: 0 5px 15px rgba(212, 175, 55, 0.5);
      background: #f7ef8a;
    }
    
    .translate-btn .icon {
      font-size: 16px;
      transition: transform 0.3s ease;
    }
    
    .translate-btn:hover .icon {
      transform: rotate(20deg);
    }
    
    .translate-btn.switching {
      animation: pulse 0.5s ease;
    }
    
    @keyframes pulse {
      0% { transform: translateY(-50%) scale(1); }
      50% { transform: translateY(-50%) scale(0.9); }
      100% { transform: translateY(-50%) scale(1); }
    }

    /* Map placeholder to mimic the image in the phone */
    .map {
      height: 180px;
      border-radius: var(--radius);
      overflow: hidden;
      position: relative;
      border: 2px solid var(--line);
    }
    .map iframe {
      width: 100%;
      height: 100%;
      border: 0;
    }

    h1, h2, h3 { margin: 0; }

    .question {
      font-size: 20px;
      font-weight: 700;
      margin: 14px 6px 8px;
    }

    /* Categories row */
    .cats {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 10px;
      padding: 8px 4px 2px;
    }
    .cat {
      display: flex; flex-direction: column; align-items: center; gap: 6px;
      font-size: 12px;
      text-align: center;
      user-select: none;
      text-decoration: none;
      color: var(--ink);
      cursor: pointer;
    }
    .cat .ico {
      width: 52px; height: 46px;
      display: grid; place-items: center;
      border: 2px solid var(--line);
      border-radius: 10px;
      background: var(--card);
    }
    .cat .emoji { font-size: 22px; line-height: 1; }

    .section-title {
      font-weight: 700;
      font-size: 22px;
      margin: 6px 6px 10px;
    }

    /* Offer card */
    .offer { padding: 0 6px 8px; }
    .offer .deal {
      display: grid;
      grid-template-columns: 72px 1fr;
      gap: 10px;
      align-items: center;
      border: 2px solid var(--line);
      border-radius: var(--radius);
      padding: 6px 8px 6px 12px;
      background: var(--card);
    }
    .offer .deal img {
      width: 64px; height: 40px; object-fit: cover; border-radius: 8px;
      border: 2px solid var(--line);
    }
    .offer .deal .title { font-weight: 700; }
    .offer .deal .sub { color: var(--muted); font-weight: 600; font-size: 13px; }

    /* List of quick links */
    .quick { padding: 6px; display: grid; gap: 8px; }
    .quick .item {
      display: flex; align-items: center; gap: 10px;
      border: 2px solid var(--line);
      border-radius: var(--radius);
      padding: 10px 14px;
      background: var(--card);
      font-weight: 600;
      text-decoration: none;
      color: var(--ink);
    }
    .quick .item .label { flex: 1 1 auto; }

    /* History Panel */
    .history-panel {
      position: fixed; bottom: 0; left: 0; right: 0;
      background: var(--card); border-top-left-radius: 20px; border-top-right-radius: 20px;
      box-shadow: 0 -4px 20px rgba(0,0,0,0.15);
      padding: 20px; z-index: 1000;
      transform: translateY(100%); transition: transform 0.3s ease;
      max-height: 70vh; display: flex; flex-direction: column;
    }
    .history-panel.active { transform: translateY(0); }
    .history-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
    .history-list { overflow-y: auto; display: grid; gap: 10px; }
    .history-item { padding: 12px; border: 1px solid var(--line); border-radius: 10px; cursor: pointer; }
    .history-item:hover { background: var(--bg); }

    /* Bottom search */
    .bottom-search { padding: 10px 6px 18px; }
    .search {
      display: grid; grid-template-columns: 28px 1fr; align-items: center; gap: 8px;
      border: 2px solid var(--line); border-radius: 999px; padding: 10px 12px;
      background: var(--card);
    }
    .search .glass { text-align: center; font-size: 16px; }
    .search input {
      appearance: none; border: 0; outline: 0; background: transparent; width: 100%;
      font: inherit; color: var(--ink);
    }
    .search input::placeholder { color: var(--muted); }

   
    footer {
      background: #16243d;
      color: #ffffff;
      text-align: center;
      font-size: 14px;
      padding: 20px;
    }
    
    /* Notification styles */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #16243d;
      color: white;
      padding: 15px 20px;
      border-radius: 14px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 12px;
      animation: slideIn 0.3s ease;
      max-width: 320px;
    }
    
    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    @keyframes slideOut {
      from { transform: translateX(0); opacity: 1; }
      to { transform: translateX(100%); opacity: 0; }
    }

    /* Chat Widget */
    .chat-widget {
      position: fixed;
      bottom: 90px;
      right: 20px;
      z-index: 1001;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
    }
    .chat-button {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: var(--primary);
      color: #d4af37;
      border: none;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      cursor: pointer;
      display: grid;
      place-items: center;
      font-size: 30px;
      transition: transform 0.3s;
    }
    .chat-button:hover { transform: scale(1.1); }
    .chat-window {
      width: 300px;
      height: 400px;
      background: var(--card);
      border: 2px solid var(--line);
      border-radius: 20px;
      margin-bottom: 16px;
      display: none;
      flex-direction: column;
      overflow: hidden;
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    }
    .chat-window.active { display: flex; }
    .chat-header {
      background: var(--primary);
      color: #d4af37;
      padding: 16px;
      font-weight: 700;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .chat-messages {
      flex: 1;
      padding: 16px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 10px;
      background: var(--bg);
    }
    .message {
      max-width: 80%;
      padding: 10px 14px;
      border-radius: 14px;
      font-size: 14px;
      line-height: 1.4;
    }
    .message.bot {
      background: var(--card);
      border: 1px solid var(--line);
      align-self: flex-start;
      border-bottom-left-radius: 2px;
    }
    .message.user {
      background: var(--primary);
      color: white;
      align-self: flex-end;
      border-bottom-right-radius: 2px;
    }
    .chat-input-area {
      padding: 10px;
      background: var(--card);
      border-top: 1px solid var(--line);
      display: flex;
      gap: 8px;
    }
    .chat-input {
      flex: 1;
      padding: 10px;
      border: 1px solid var(--line);
      border-radius: 99px;
      outline: none;
      font-family: inherit;
      background: transparent;
      color: var(--ink);
    }
    .send-btn {
      background: var(--primary);
      color: #d4af37;
      border: none;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      cursor: pointer;
      display: grid;
      place-items: center;
    }

    /* Larger screens: breathe a bit more */
    @media (min-width: 768px) {
      .shell { padding: 24px; }
      .map { height: 220px; }
    }
  </style>
</head>
<body>
  <div class="page">
    <header class="brand">
      <div class="logo-text">Ø­Ù€Ù€Ù€Ù€Ù€Ù€ÙŠÙ€Ù€Ù€Ù€Ø§Ùƒ</div>
      <div class="logo-sub">HAYYAK</div>
      <button class="translate-btn" id="translateBtn" aria-label="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ©">
        <span class="icon">ğŸŒ</span>
        <span>English</span>
      </button>
    </header>
    <main class="shell">
      <div class="map card" aria-label="Ø®Ø±ÙŠØ·Ø©" data-ar-label="Ø®Ø±ÙŠØ·Ø©" data-en-label="Map">
        <iframe id="user-map" src="https://www.openstreetmap.org/export/embed.html?bbox=51.50,22.50,56.50,26.20&amp;layer=mapnik" title="Map"></iframe>
      </div>

      <h1 class="question" data-ar-prefix="Ø­ÙŠØ§Ùƒ" data-en-prefix="Hello" data-ar-suffix="ØŒ ÙˆÙŠÙ† Ø­Ø§Ø¨ ØªØ±ÙˆØ­ Ø§Ù„ÙŠÙˆÙ…ØŸ" data-en-suffix=", where would you like to go today?">
        Ø­ÙŠØ§Ùƒ, ÙˆÙŠÙ† Ø­Ø§Ø¨ ØªØ±ÙˆØ­ Ø§Ù„ÙŠÙˆÙ…ØŸ
      </h1>

      <section class="cats">
        <a href="Ù…ØªØ§Ø¬Ø±.html" class="cat">
          <div class="ico"><span class="emoji" aria-hidden="true">ğŸ›ï¸</span></div>
          <div class="cat-text" data-ar="Ù…ØªØ§Ø¬Ø±" data-en="Stores">Ù…ØªØ§Ø¬Ø±</div>
        </a>
        <a href="Ù…Ø·Ø§Ø¹Ù….html" class="cat">
          <div class="ico"><span class="emoji" aria-hidden="true">ğŸ½ï¸</span></div>
          <div class="cat-text" data-ar="Ù…Ø·Ø§Ø¹Ù…" data-en="Restaurants">Ù…Ø·Ø§Ø¹Ù…</div>
        </a>
        <a href="Ø³ÙŠØ§Ø­Ø©.html" class="cat">
          <div class="ico"><span class="emoji" aria-hidden="true">ğŸ—ºï¸</span></div>
          <div class="cat-text" data-ar="Ø³ÙŠØ§Ø­Ø©" data-en="Tourism">Ø³ÙŠØ§Ø­Ø©</div>
        </a>
        <a href="ØªØ±ÙÙŠÙ‡.html" class="cat">
          <div class="ico"><span class="emoji" aria-hidden="true">ğŸ–ï¸</span></div>
          <div class="cat-text" data-ar="ØªØ±ÙÙŠÙ‡" data-en="Entertainment">ØªØ±ÙÙŠÙ‡</div>
        </a>
        <a href="ÙÙ†Ø§Ø¯Ù‚.html" class="cat">
          <div class="ico"><span class="emoji" aria-hidden="true">ğŸ¨</span></div>
          <div class="cat-text" data-ar="ÙÙ†Ø§Ø¯Ù‚" data-en="Hotels">ÙÙ†Ø§Ø¯Ù‚</div>
        </a>
        <a href="Ù…Ø²Ø§Ø±Ø¹.html" class="cat">
          <div class="ico"><span class="emoji" aria-hidden="true">ğŸŒ¾</span></div>
          <div class="cat-text" data-ar="Ù…Ø²Ø§Ø±Ø¹" data-en="Farms">Ù…Ø²Ø§Ø±Ø¹</div>
        </a>
      </section>

      <h2 class="section-title" data-ar="Ø¹Ø±Ø¶ Ø§Ù„ÙŠÙˆÙ…!" data-en="Today's Offer!">Ø¹Ø±Ø¶ Ø§Ù„ÙŠÙˆÙ…!</h2>

      <section class="offer">
        <div class="deal">
          <img src="img.jpg" alt="Ø¹Ø±Ø¶ ØªØ±ÙÙŠÙ‡ÙŠ" data-ar-alt="Ø¹Ø±Ø¶ ØªØ±ÙÙŠÙ‡ÙŠ" data-en-alt="Entertainment offer" />
          <div>
            <div class="title" data-ar="Ø®ØµÙ… 40% Ø¹Ù„Ù‰ IMG" data-en="40% off on IMG">Ø®ØµÙ… 40% Ø¹Ù„Ù‰ IMG</div>
            <div class="sub" data-ar="Ù„ÙØªØ±Ø© Ù…Ø­Ø¯ÙˆØ¯Ø© â€¢ Ø§Ø·Ù‘Ù„Ø¹ Ø¹Ù„Ù‰ Ø§Ù„ØªÙØ§ØµÙŠÙ„" data-en="For a limited time â€¢ View details">
              Ù„ÙØªØ±Ø© Ù…Ø­Ø¯ÙˆØ¯Ø© â€¢ Ø§Ø·Ù‘Ù„Ø¹ Ø¹Ù„Ù‰ Ø§Ù„ØªÙØ§ØµÙŠÙ„
            </div>
          </div>
        </div>
      </section>   

      <section class="quick">
        <a href="family.html" class="item">
          <div class="label" data-ar="Ø§ÙØ±Ø§Ø¯ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© ÙˆØ§Ù„Ø§ØµØ¯Ù‚Ø§Ø¡â¬…" data-en="Family & Friendsâ¬…">Ø§ÙØ±Ø§Ø¯ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© ÙˆØ§Ù„Ø§ØµØ¯Ù‚Ø§Ø¡â¬…</div>
        </a>
        <a href="profile.html" class="item">
          <div class="label" data-ar="Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠâ¬…" data-en="Profileâ¬…">Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠâ¬…</div>
        </a>
        <a href="air.html" class="item">
          <div class="label" data-ar="Ù…Ø­Ø·Ø© Ù‚ÙŠØ§Ø³ Ø¬ÙˆØ¯Ø© Ø§Ù„Ù…ÙƒØ§Ù† Ù„Ø§ØµØ­Ø§Ø¨ Ø§Ù„Ø­Ø³Ø§Ø³ÙŠØ©â¬…" data-en="Air Quality Station for Allergy Sufferersâ¬…">
            Ù…Ø­Ø·Ø© Ù‚ÙŠØ§Ø³ Ø¬ÙˆØ¯Ø© Ø§Ù„Ù…ÙƒØ§Ù† Ù„Ø§ØµØ­Ø§Ø¨ Ø§Ù„Ø­Ø³Ø§Ø³ÙŠØ©â¬…
          </div>
        </a>
        <a href="javascript:void(0)" onclick="toggleHistory()" class="item">
          <div class="label" data-ar="Ø§Ù…Ø§ÙƒÙ† Ø²Ø±ØªÙ‡Ø§ Ù…Ø³Ø¨Ù‚â¬…" data-en="Previously Visited Placesâ¬…">Ø§Ù…Ø§ÙƒÙ† Ø²Ø±ØªÙ‡Ø§ Ù…Ø³Ø¨Ù‚â¬…</div>
        </a>
        <a href="hlthPrb.html" class="item">
          <div class="label" data-ar="Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØµØ­ÙŠØ©/Ø§Ù„Ù†ÙØ³ÙŠØ©â¬…" data-en="Health/Psychological Issuesâ¬…">Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØµØ­ÙŠØ©/Ø§Ù„Ù†ÙØ³ÙŠØ©â¬…</div>
        </a>
        <a href="ID.HTML" class="item">
          <div class="label" data-ar="Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø±Ù‚Ù…ÙŠØ©â¬…" data-en="Digital ID Cardâ¬…">Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø±Ù‚Ù…ÙŠØ©â¬…</div>
        </a>
        <a href="uae_laws.html" class="item">
          <div class="label" data-ar="Ù‚ÙˆØ§Ù†ÙŠÙ† Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ù…ØªØ­Ø¯Ø©â¬…" data-en="UAE Lawsâ¬…">Ù‚ÙˆØ§Ù†ÙŠÙ† Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ù…ØªØ­Ø¯Ø©â¬…</div>
        </a>
      </section>

      <div class="bottom-search">
        <div class="search">
          <div class="glass">ğŸ”</div>
          <input type="search" 
                 placeholder="Ø§Ø¨Ø­Ø« Ù‡Ù†Ø§" 
                 data-ar-placeholder="Ø§Ø¨Ø­Ø« Ù‡Ù†Ø§" 
                 data-en-placeholder="Search here" 
                 aria-label="Ø§Ø¨Ø­Ø« Ù‡Ù†Ø§" 
                 id="search-input" />
        </div>
      </div>
    </main>

    <div id="history-panel" class="history-panel" aria-hidden="true">
      <div class="history-header">
        <h3 style="font-size:18px; font-weight:700" data-ar="Ø§Ù„Ø£Ù…Ø§ÙƒÙ† Ø§Ù„ØªÙŠ Ø²Ø±ØªÙ‡Ø§ Ù…Ø¤Ø®Ø±Ø§Ù‹" data-en="Recently Visited Places">
          Ø§Ù„Ø£Ù…Ø§ÙƒÙ† Ø§Ù„ØªÙŠ Ø²Ø±ØªÙ‡Ø§ Ù…Ø¤Ø®Ø±Ø§Ù‹
        </h3>
        <button onclick="toggleHistory()" style="background:none; border:none; font-size:20px; cursor:pointer">âœ•</button>
      </div>
      <div id="history-list" class="history-list"></div>
    </div>

    <!-- Chat Widget -->
    <div class="chat-widget">
      <div class="chat-window" id="chat-window">
        <div class="chat-header">
          <span data-ar="Ù…Ø³Ø§Ø¹Ø¯ Ø­ÙŠØ§Ùƒ Ø§Ù„Ø°ÙƒÙŠ" data-en="Hayyak AI Assistant">Ù…Ø³Ø§Ø¹Ø¯ Ø­ÙŠØ§Ùƒ Ø§Ù„Ø°ÙƒÙŠ</span>
          <button onclick="toggleChat()" style="background:none; border:none; color:#d4af37; cursor:pointer; font-size: 18px;">âœ•</button>
        </div>
        <div class="chat-messages" id="chat-messages"></div>
        <div class="chat-input-area">
          <input type="text" class="chat-input" id="chat-input" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ..." data-ar-placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ..." data-en-placeholder="Type your message..." onkeypress="handleChatKeyPress(event)">
          <button class="send-btn" onclick="sendMessage()">â¤</button>
        </div>
      </div>
      <button class="chat-button" onclick="toggleChat()" aria-label="Chat">ğŸ¤–</button>
    </div>

    <footer id="site-footer" data-ar="Â© Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¨Ù† Ù†Ø§ØµØ± - Ø­ÙŠØ§Ùƒ" data-en="Â© Abdullah bin Nasser - Hayyak">
      Â© Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¨Ù† Ù†Ø§ØµØ± - Ø­ÙŠØ§Ùƒ
    </footer>
  </div>

  <script>
    // Language state
    let currentLanguage = 'ar';
    
    // Translation function
    function toggleLanguage() {
      const btn = document.getElementById('translateBtn');
      btn.classList.add('switching');
      
      // Switch language
      currentLanguage = currentLanguage === 'ar' ? 'en' : 'ar';
      
      // Update button text
      const langText = btn.querySelector('span:last-child');
      langText.textContent = currentLanguage === 'ar' ? 'English' : 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©';
      
      // Update page direction
      document.documentElement.dir = currentLanguage === 'ar' ? 'rtl' : 'ltr';
      document.documentElement.lang = currentLanguage;
      
      // Update page title
      document.title = currentLanguage === 'ar' ? 'Ø­ÙŠØ§Ùƒ | HAYYAK' : 'Hayyak | Home';
      
      // Translate all content
      translatePage();
      
      // Update welcome message with user's name
      updateWelcomeMessage();
      
      // Show notification
      showNotification(currentLanguage === 'ar' ? 'ØªÙ… Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©' : 'Switched to English');
      
      // Remove animation class
      setTimeout(() => {
        btn.classList.remove('switching');
      }, 500);
    }
    
    // Translate the page
    function translatePage() {
      console.log('Translating to:', currentLanguage);
      
      // 1. Translate FOOTER (explicitly target the footer element)
      const footer = document.getElementById('site-footer');
      if (footer && footer.hasAttribute('data-ar') && footer.hasAttribute('data-en')) {
        const footerText = currentLanguage === 'ar' ? 
          footer.getAttribute('data-ar') : 
          footer.getAttribute('data-en');
        footer.textContent = footerText;
        console.log('Footer translated:', footerText);
      }
      
      // 2. Translate CATEGORIES (emoji stays separate)
      document.querySelectorAll('.cat-text').forEach(element => {
        if (element.hasAttribute('data-ar') && element.hasAttribute('data-en')) {
          const text = currentLanguage === 'ar' ? 
            element.getAttribute('data-ar') : 
            element.getAttribute('data-en');
          element.textContent = text;
        }
      });
      
      // 3. Translate all elements with data-ar and data-en attributes
      document.querySelectorAll('[data-ar]:not(.cat-text):not(footer)').forEach(element => {
        if (element.hasAttribute('data-ar') && element.hasAttribute('data-en')) {
          const text = currentLanguage === 'ar' ? 
            element.getAttribute('data-ar') : 
            element.getAttribute('data-en');
          element.textContent = text;
        }
      });
      
      // 4. Translate placeholders
      document.querySelectorAll('[data-ar-placeholder]').forEach(element => {
        if (element.hasAttribute('data-ar-placeholder') && element.hasAttribute('data-en-placeholder')) {
          element.placeholder = currentLanguage === 'ar' ? 
            element.getAttribute('data-ar-placeholder') : 
            element.getAttribute('data-en-placeholder');
        }
      });
      
      // 5. Translate aria-labels
      document.querySelectorAll('[data-ar-label]').forEach(element => {
        if (element.hasAttribute('data-ar-label') && element.hasAttribute('data-en-label')) {
          element.setAttribute('aria-label', currentLanguage === 'ar' ? 
            element.getAttribute('data-ar-label') : 
            element.getAttribute('data-en-label'));
        }
      });
      
      // 6. Translate alt text for images
      document.querySelectorAll('[data-ar-alt]').forEach(element => {
        if (element.hasAttribute('data-ar-alt') && element.hasAttribute('data-en-alt')) {
          element.setAttribute('alt', currentLanguage === 'ar' ? 
            element.getAttribute('data-ar-alt') : 
            element.getAttribute('data-en-alt'));
        }
      });
      
      // 7. Translate section titles
      document.querySelectorAll('.section-title').forEach(title => {
        if (title.hasAttribute('data-ar') && title.hasAttribute('data-en')) {
          title.textContent = currentLanguage === 'ar' ? 
            title.getAttribute('data-ar') : 
            title.getAttribute('data-en');
        }
      });
      
      // 8. Translate history panel title
      const historyTitle = document.querySelector('.history-panel h3');
      if (historyTitle && historyTitle.hasAttribute('data-ar') && historyTitle.hasAttribute('data-en')) {
        historyTitle.textContent = currentLanguage === 'ar' ? 
          historyTitle.getAttribute('data-ar') : 
          historyTitle.getAttribute('data-en');
      }
      
      console.log('Translation complete!');
    }
    
    // Update welcome message with user's name
    function updateWelcomeMessage() {
      const userProfile = JSON.parse(localStorage.getItem('hayyak_user_profile'));
      const questionElement = document.querySelector('.question');
      
      if (userProfile && userProfile.name) {
        const prefix = currentLanguage === 'ar' ? 
          questionElement.getAttribute('data-ar-prefix') : 
          questionElement.getAttribute('data-en-prefix');
        const suffix = currentLanguage === 'ar' ? 
          questionElement.getAttribute('data-ar-suffix') : 
          questionElement.getAttribute('data-en-suffix');
        
        questionElement.textContent = `${prefix} ${userProfile.name}${suffix}`;
      } else {
        // If no user profile, show default message
        const defaultMsg = currentLanguage === 'ar' ? 
          'Ø§Ù‡Ù„ÙŠÙ†ØŒ ÙˆÙŠÙ† Ø­Ø§Ø¨ ØªØ±ÙˆØ­ Ø§Ù„ÙŠÙˆÙ…ØŸ' : 
          'Hello, where would you like to go today?';
        questionElement.textContent = defaultMsg;
      }
    }

    // Check for user profile
    const userProfile = JSON.parse(localStorage.getItem('hayyak_user_profile'));
    if (!userProfile) {
      window.location.href = 'index.html';
    } else {
      updateWelcomeMessage();
    }

    function toggleHistory() {
      const panel = document.getElementById('history-panel');
      panel.classList.toggle('active');
      if (panel.classList.contains('active')) {
        loadHistory();
      }
    }

    function loadHistory() {
      const list = document.getElementById('history-list');
      const history = JSON.parse(localStorage.getItem('hayyak_history') || '[]');
      
      if (history.length === 0) {
        list.innerHTML = `<div style="text-align:center; color:var(--muted); padding:20px;">
          ${currentLanguage === 'ar' ? 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø³Ø¬Ù„ Ø²ÙŠØ§Ø±Ø§Øª Ø¨Ø¹Ø¯' : 'No visit history yet'}
        </div>`;
        return;
      }

      list.innerHTML = history.map(item => `
        <div class="history-item" onclick="locateHistory(${item.lat}, ${item.lon})">
          <div style="font-weight:700">${item.title}</div>
          <div style="font-size:12px; color:var(--muted)">
            ${new Date(item.date).toLocaleDateString(currentLanguage === 'ar' ? 'ar-AE' : 'en-US')}
          </div>
        </div>
      `).join('');
    }

    function locateHistory(lat, lon) {
      const f = 0.01;
      const bbox = `${lon-f},${lat-f},${lon+f},${lat+f}`;
      document.getElementById('user-map').src = `https://www.openstreetmap.org/export/embed.html?bbox=${bbox}&layer=mapnik`;
      toggleHistory();
      
      const message = currentLanguage === 'ar' ? 
        `ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹: ${lat.toFixed(4)}, ${lon.toFixed(4)}` :
        `Location set to: ${lat.toFixed(4)}, ${lon.toFixed(4)}`;
      showNotification(message);
    }

    // Chat functionality
    function toggleChat() {
      const window = document.getElementById('chat-window');
      window.classList.toggle('active');
      if (window.classList.contains('active')) {
        document.getElementById('chat-input').focus();
        // Add welcome message if empty
        const container = document.getElementById('chat-messages');
        if (container.children.length === 0) {
          const welcomeMsg = currentLanguage === 'ar' ? 'Ù…Ø±Ø­Ø¨Ø§Ù‹! ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ØŸ' : 'Hello! How can I help you today?';
          addMessage(welcomeMsg, 'bot');
        }
      }
    }

    function handleChatKeyPress(e) {
      if (e.key === 'Enter') sendMessage();
    }

    function sendMessage() {
      const input = document.getElementById('chat-input');
      const text = input.value.trim();
      if (!text) return;

      addMessage(text, 'user');
      input.value = '';

      // Simulate AI response
      setTimeout(() => {
        const response = getAIResponse(text);
        addMessage(response, 'bot');
      }, 500);
    }

    function addMessage(text, sender) {
      const container = document.getElementById('chat-messages');
      const msgDiv = document.createElement('div');
      msgDiv.className = `message ${sender}`;
      msgDiv.textContent = text;
      container.appendChild(msgDiv);
      container.scrollTop = container.scrollHeight;
    }

    function getAIResponse(input) {
      const lowerInput = input.toLowerCase();
      const isAr = currentLanguage === 'ar';
      
      if (lowerInput.includes('Ù…Ø·Ø¹Ù…') || lowerInput.includes('restaurant') || lowerInput.includes('food') || lowerInput.includes('Ø£ÙƒÙ„')) {
        return isAr ? 'ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ø·Ø§Ø¹Ù… ÙÙŠ Ù‚Ø³Ù… "Ù…Ø·Ø§Ø¹Ù…".' : 'You can find the best restaurants in the "Restaurants" section.';
      }
      if (lowerInput.includes('ÙÙ†Ø¯Ù‚') || lowerInput.includes('hotel') || lowerInput.includes('stay') || lowerInput.includes('Ø³ÙƒÙ†')) {
        return isAr ? 'Ù„Ø¯ÙŠÙ†Ø§ Ù‚Ø§Ø¦Ù…Ø© Ø±Ø§Ø¦Ø¹Ø© Ù…Ù† Ø§Ù„ÙÙ†Ø§Ø¯Ù‚ ÙÙŠ Ù‚Ø³Ù… "ÙÙ†Ø§Ø¯Ù‚".' : 'We have a great list of hotels in the "Hotels" section.';
      }
      if (lowerInput.includes('Ø³ÙŠØ§Ø­Ø©') || lowerInput.includes('tourism') || lowerInput.includes('visit') || lowerInput.includes('Ø²ÙŠØ§Ø±Ø©')) {
        return isAr ? 'Ø§Ø³ØªÙƒØ´Ù Ø£Ø¬Ù…Ù„ Ø§Ù„Ø£Ù…Ø§ÙƒÙ† Ø§Ù„Ø³ÙŠØ§Ø­ÙŠØ© ÙÙŠ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª Ø¹Ø¨Ø± Ù‚Ø³Ù… "Ø³ÙŠØ§Ø­Ø©".' : 'Explore the most beautiful tourist places in the UAE via the "Tourism" section.';
      }
      if (lowerInput.includes('Ù…Ø±Ø­Ø¨Ø§') || lowerInput.includes('hello') || lowerInput.includes('hi') || lowerInput.includes('Ù‡Ù„Ø§')) {
        return isAr ? 'Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø­ÙŠØ§Ùƒ! Ø£Ù†Ø§ Ù‡Ù†Ø§ Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª.' : 'Welcome to Hayyak! I am here to help you explore the UAE.';
      }
      
      return isAr ? 'Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ù… Ø£ÙÙ‡Ù… ØªÙ…Ø§Ù…Ø§Ù‹. ÙŠÙ…ÙƒÙ†Ùƒ Ø³Ø¤Ø§Ù„ÙŠ Ø¹Ù† Ø§Ù„Ù…Ø·Ø§Ø¹Ù…ØŒ Ø§Ù„ÙÙ†Ø§Ø¯Ù‚ØŒ Ø£Ùˆ Ø§Ù„Ø£Ù…Ø§ÙƒÙ† Ø§Ù„Ø³ÙŠØ§Ø­ÙŠØ©.' : 'Sorry, I didn\'t quite get that. You can ask me about restaurants, hotels, or tourist places.';
    }

    // Search functionality
    document.getElementById('search-input').addEventListener('keypress', function(e) {
      if (e.key === 'Enter' && this.value.trim()) {
        const searchTerm = this.value.trim();
        const message = currentLanguage === 'ar' ? 
          `Ø¬Ø§Ø±Ù Ø§Ù„Ø¨Ø­Ø« Ø¹Ù†: ${searchTerm}` :
          `Searching for: ${searchTerm}`;
        showNotification(message);
        this.value = '';
      }
    });
    
    // Show notification
    function showNotification(message, type = 'info') {
      // Remove any existing notification
      const existingNotification = document.querySelector('.notification');
      if (existingNotification) {
        existingNotification.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => existingNotification.remove(), 300);
      }
      
      // Create new notification element
      const notification = document.createElement('div');
      notification.className = 'notification';
      notification.innerHTML = `
        <div style="width: 36px; height: 36px; border-radius: 50%; background: #d4af37; display: grid; place-items: center; font-size: 18px;">
          ${type === 'error' ? 'âš ï¸' : 'ğŸ’¡'}
        </div>
        <div style="flex: 1;">
          <div style="font-weight: 700; margin-bottom: 4px;">
            ${currentLanguage === 'ar' ? (type === 'error' ? 'ØªÙ†Ø¨ÙŠÙ‡' : 'Ø¥Ø´Ø¹Ø§Ø±') : (type === 'error' ? 'Alert' : 'Notification')}
          </div>
          <div style="font-size: 14px; opacity: 0.9;">${message}</div>
        </div>
        <button onclick="this.parentElement.style.animation='slideOut 0.3s ease'; setTimeout(() => this.parentElement.remove(), 300)" 
                style="background: none; border: none; color: white; font-size: 20px; cursor: pointer; padding: 0; width: 24px; height: 24px; display: grid; place-items: center;">
          Ã—
        </button>
      `;
      
      document.body.appendChild(notification);
      
      // Remove notification automatically after 5 seconds
      setTimeout(() => {
        if (notification.parentNode) {
          notification.style.animation = 'slideOut 0.3s ease';
          setTimeout(() => notification.remove(), 300);
        }
      }, 5000);
    }

    // Health tips data in both languages
    const healthTips = {
      ar: [
        "ğŸ’Š ØªØ°ÙƒØ± ØªÙ†Ø§ÙˆÙ„ Ø£Ø¯ÙˆÙŠØªÙƒ ÙÙŠ Ù…ÙˆØ¹Ø¯Ù‡Ø§",
        "ğŸ¥— ØªÙ†Ø§ÙˆÙ„ ÙˆØ¬Ø¨Ø© Ø¥ÙØ·Ø§Ø± ØµØ­ÙŠØ© Ù„ØªØ¨Ø¯Ø£ ÙŠÙˆÙ…Ùƒ Ø¨Ù†Ø´Ø§Ø·",
        "ğŸ’§ Ø§Ø´Ø±Ø¨ 8 Ø£ÙƒÙˆØ§Ø¨ Ù…Ù† Ø§Ù„Ù…Ø§Ø¡ ÙŠÙˆÙ…ÙŠØ§Ù‹",
        "ğŸš¶â€â™‚ï¸ Ø§Ù…Ø´Ù 30 Ø¯Ù‚ÙŠÙ‚Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹ Ù„ØµØ­Ø© Ù‚Ù„Ø¨Ùƒ",
        "ğŸ§˜â€â™‚ï¸ Ø®Ø° Ù‚Ø³Ø·Ø§Ù‹ Ù…Ù† Ø§Ù„Ø±Ø§Ø­Ø© ÙˆØ§Ù„ØªØ£Ù…Ù„ Ù„ØªØ®ÙÙŠÙ Ø§Ù„Ù‚Ù„Ù‚",
        "ğŸ“‹ ØªØ§Ø¨Ø¹ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø³ÙƒØ± Ø¨Ø§Ù†ØªØ¸Ø§Ù… Ø¥Ø°Ø§ ÙƒÙ†Øª Ù…Ø±ÙŠØ¶ Ø³ÙƒØ±ÙŠ",
        "ğŸ˜Š Ø§Ù„Ø§Ø¨ØªØ³Ø§Ù… ÙŠÙ‚Ù„Ù„ Ø§Ù„ØªÙˆØªØ± ÙˆÙŠØ­Ø³Ù† Ø§Ù„Ù…Ø²Ø§Ø¬",
        "ğŸ¥¦ ØªØ¬Ù†Ø¨ Ø§Ù„Ø£Ø·Ø¹Ù…Ø© Ø§Ù„Ù…Ø³Ø¨Ø¨Ø© Ù„Ù„Ø­Ø³Ø§Ø³ÙŠØ©",
        "ğŸŒ ØªØ¹Ø±Ø¶ Ù„Ø£Ø´Ø¹Ø© Ø§Ù„Ø´Ù…Ø³ Ø§Ù„ØµØ¨Ø§Ø­ÙŠØ© Ù„ÙÙŠØªØ§Ù…ÙŠÙ† Ø¯",
        "ğŸ§  ØªÙ…Ø±Ù† Ø¹Ù‚Ù„Ùƒ Ø¨Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙˆØ§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø°Ù‡Ù†ÙŠØ©"
      ],
      en: [
        "ğŸ’Š Remember to take your medications on time",
        "ğŸ¥— Eat a healthy breakfast to start your day energetically",
        "ğŸ’§ Drink 8 glasses of water daily",
        "ğŸš¶â€â™‚ï¸ Walk 30 minutes daily for heart health",
        "ğŸ§˜â€â™‚ï¸ Take a break and meditate to reduce anxiety",
        "ğŸ“‹ Monitor your sugar regularly if you have diabetes",
        "ğŸ˜Š Smiling reduces stress and improves mood",
        "ğŸ¥¦ Avoid foods that cause allergies",
        "ğŸŒ Get morning sun exposure for Vitamin D",
        "ğŸ§  Exercise your brain with reading and mental games"
      ]
    };

    // Show health notification
    function showHealthNotification() {
      const privacySettings = {
        healthNotifications: localStorage.getItem('healthNotifications') !== 'false'
      };
      
      // Only if user has enabled health notifications
      if (privacySettings.healthNotifications) {
        const tips = currentLanguage === 'ar' ? healthTips.ar : healthTips.en;
        const randomTip = tips[Math.floor(Math.random() * tips.length)];
        
        // Wait for page to fully load
        setTimeout(() => {
          showNotification(randomTip, 'info');
        }, 2000);
      }
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      // Add click event to translate button
      document.getElementById('translateBtn').addEventListener('click', toggleLanguage);
      
      // Apply profile language
      if (userProfile && userProfile.language && userProfile.language !== currentLanguage) {
        currentLanguage = userProfile.language;
        document.documentElement.dir = currentLanguage === 'ar' ? 'rtl' : 'ltr';
        document.documentElement.lang = currentLanguage;
        const btn = document.getElementById('translateBtn');
        if (btn) {
          const langText = btn.querySelector('span:last-child');
          if (langText) langText.textContent = currentLanguage === 'ar' ? 'English' : 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©';
        }
        translatePage();
      }

      // Show health notification if enabled
      if (userProfile && userProfile.name) {
        showHealthNotification();
      }
    });
  </script>
</body>
</html>