<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ù…Ø­Ø·Ø© Ù‚ÙŠØ§Ø³ Ø¬ÙˆØ¯Ø© Ø§Ù„Ù…ÙƒØ§Ù† | Ø­ÙŠØ§Ùƒ</title>
  <meta name="description" content="Ù…Ø­Ø·Ø© Ù„Ù‚ÙŠØ§Ø³ Ø¬ÙˆØ¯Ø© Ø§Ù„Ø¨ÙŠØ¦Ø© ÙˆØ§Ù„Ù…ÙƒØ§Ù† Ù„Ø£ØµØ­Ø§Ø¨ Ø§Ù„Ø­Ø³Ø§Ø³ÙŠØ© ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø­ÙŠØ§Ùƒ" />
  <link rel="icon" type="image/jpeg" href="favicon.jpeg">

  <!-- Google Fonts: Cairo -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Afeesh local fonts -->
  <style>
    @font-face {
      font-family: 'Afeesh';
      src: url('./afeesh/Afeesh-Aadi.woff2') format('woff2'),
           url('./afeesh/Afeesh-Aadi.woff') format('woff'),
           url('./afeesh/Afeesh-Aadi.ttf') format('truetype');
      font-weight: 400; font-style: normal; font-display: swap;
    }
    @font-face {
      font-family: 'Afeesh';
      src: url('./afeesh/Afeesh-Mekalbaz.woff2') format('woff2'),
           url('./afeesh/Afeesh-Mekalbaz.woff') format('woff'),
           url('./afeesh/Afeesh-Mekalbaz.ttf') format('truetype');
      font-weight: 700; font-style: normal; font-display: swap;
    }
    @font-face {
      font-family: 'Afeesh';
      src: url('./afeesh/Afeesh-NosMekalbaz.woff2') format('woff2'),
           url('./afeesh/Afeesh-NosMekalbaz.woff') format('woff'),
           url('./afeesh/Afeesh-NosMekalbaz.ttf') format('truetype');
      font-weight: 600; font-style: normal; font-display: swap;
    }
    @font-face {
      font-family: 'Afeesh';
      src: url('afeesh/Afeesh-NosMesalwa.woff2') format('woff2'),
           url('afeesh/Afeesh-NosMesalwa.woff') format('woff'),
           url('afeesh/Afeesh-NosMesalwa.ttf') format('truetype');
      font-weight: 300; font-style: normal; font-display: swap;
    }

    :root {
      --bg: #f5f5f7; --card: #ffffff; --ink: #0f0f10; --muted: #6b7280; --line: #0f0f10; --radius: 14px;
      --primary: #16243d; --accent: #d4af37;
      --good: #10b981; --moderate: #f59e0b; --poor: #ef4444; --hazardous: #7c2d12;
      --air-good: #dcfce7; --air-moderate: #fef3c7; --air-poor: #fee2e2; --air-hazardous: #fecaca;
      --pollen-low: #bbf7d0; --pollen-medium: #fde68a; --pollen-high: #fca5a5;
      --dust-low: #dbeafe; --dust-medium: #bfdbfe; --dust-high: #93c5fd;
    }
    *{box-sizing:border-box}
    html,body{height:100%; background:var(--bg)}
    body{margin:0; font-family:'Cairo', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color:var(--ink); display: flex; flex-direction: column;}

    .shell{width:100%; max-width:480px; margin:0 auto; padding:16px; flex: 1;}
    .card{background:var(--card); border:2px solid var(--line); border-radius:var(--radius); box-shadow:0 2px 0 #0f0f10; padding: 20px; margin-bottom: 16px;}

    header.brand{
      text-align:center; 
      background:#16243d; 
      color:#ffffff; 
      padding:20px; 
      position:relative;
    }
   
    .logo-text {
      font-family: 'Afeesh', sans-serif;
      font-weight: 700;
      font-size: 48px;
      letter-spacing: 2px;
      color: #d4af37;
    }
    .logo-sub {
      font-family: 'Afeesh', sans-serif;
      font-weight: 600;
      color: #94a3b8;
      font-size: 20px;
      margin-top: 2px;
      letter-spacing: 3px;
    }
    .home-btn {
      position: absolute;
      top: 50%;
      left: 20px;
      transform: translateY(-50%);
      color: #d4af37;
      text-decoration: none;
      font-size: 15px;
      background-color: #0f0f10;
      padding: 9px 12px;
      border-radius: 999px;
      transition: all 0.3s ease;
    }
    
    .home-btn:hover {
      background-color: #d4af37;
      color: #0f0f10;
      transform: translateY(-50%) scale(1.05);
    }

    /* Translate Button Styles */
    .translate-btn {
      position: absolute;
      top: 50%;
      right: 20px;
      transform: translateY(-50%);
      background: #d4af37;
      border: 2px solid #ffffff;
      border-radius: 20px;
      color: #16243d;
      padding: 6px 14px;
      font-weight: 700;
      font-size: 13px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: all 0.3s ease;
      box-shadow: 0 3px 10px rgba(212, 175, 55, 0.3);
      z-index: 100;
    }
    
    .translate-btn:hover {
      transform: translateY(-50%) scale(1.05);
      box-shadow: 0 5px 15px rgba(212, 175, 55, 0.5);
      background: #f7ef8a;
    }
    
    .translate-btn .icon {
      font-size: 16px;
      transition: transform 0.3s ease;
    }
    
    .translate-btn:hover .icon {
      transform: rotate(20deg);
    }
    
    .translate-btn.switching {
      animation: pulse 0.5s ease;
    }
    
    @keyframes pulse {
      0% { transform: translateY(-50%) scale(1); }
      50% { transform: translateY(-50%) scale(0.9); }
      100% { transform: translateY(-50%) scale(1); }
    }

    footer {
      background: #16243d;
      color: #ffffff;
      text-align: center;
      font-size: 14px;
      padding: 20px;
    }

    .page-title {
      font-size: 24px;
      font-weight: 700;
      margin: 14px 6px 8px;
      color: var(--primary);
    }

    .page-description {
      font-size: 15px;
      color: var(--muted);
      margin: 0 6px 20px;
      line-height: 1.5;
    }

    /* Location Selector */
    .location-selector {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      padding: 0 6px;
    }
    .location-btn {
      flex: 1;
      padding: 12px;
      border: 2px solid var(--line);
      border-radius: 12px;
      background: var(--card);
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      transition: all 0.2s;
    }
    .location-btn.active {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
    }

    /* Current Location Card */
    .current-location-card {
      text-align: center;
      padding: 16px;
      background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%);
      border: 2px solid #0ea5e9;
      border-radius: var(--radius);
      margin-bottom: 20px;
    }
    .location-name {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 8px;
      color: var(--primary);
    }
    .location-address {
      font-size: 14px;
      color: var(--muted);
      margin-bottom: 12px;
    }
    .location-update {
      font-size: 12px;
      color: #64748b;
    }

    /* Air Quality Index */
    .aqi-container {
      margin-bottom: 24px;
    }
    .aqi-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }
    .aqi-title {
      font-weight: 700;
      font-size: 18px;
      color: var(--primary);
    }
    .aqi-value {
      font-weight: 700;
      font-size: 28px;
      padding: 4px 12px;
      border-radius: 20px;
      color: white;
    }
    .aqi-good { background: var(--good); }
    .aqi-moderate { background: var(--moderate); }
    .aqi-poor { background: var(--poor); }
    .aqi-hazardous { background: var(--hazardous); }

    .aqi-scale {
      display: flex;
      height: 8px;
      border-radius: 4px;
      overflow: hidden;
      margin-bottom: 8px;
    }
    .aqi-segment {
      flex: 1;
    }
    .segment-good { background: var(--good); }
    .segment-moderate { background: var(--moderate); }
    .segment-poor { background: var(--poor); }
    .segment-hazardous { background: var(--hazardous); }

    .aqi-description {
      font-size: 14px;
      text-align: center;
      color: var(--muted);
    }

    /* Measurement Cards */
    .measurement-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-bottom: 24px;
    }
    .measurement-card {
      padding: 16px;
      border-radius: var(--radius);
      border: 2px solid var(--line);
      background: var(--card);
    }
    .measurement-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }
    .measurement-title {
      font-weight: 700;
      font-size: 14px;
    }
    .measurement-value {
      font-weight: 700;
      font-size: 20px;
    }
    .measurement-unit {
      font-size: 12px;
      color: var(--muted);
      margin-left: 2px;
    }
    .measurement-status {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 12px;
      font-size: 11px;
      font-weight: 600;
      margin-top: 6px;
    }
    .status-good { background: var(--air-good); color: #047857; }
    .status-moderate { background: var(--air-moderate); color: #92400e; }
    .status-poor { background: var(--air-poor); color: #b91c1c; }
    .status-hazardous { background: var(--air-hazardous); color: #7c2d12; }

    /* Pollen Forecast */
    .pollen-section {
      margin-bottom: 24px;
    }
    .section-title {
      font-weight: 700;
      font-size: 18px;
      margin: 6px 6px 14px;
      color: var(--primary);
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .pollen-types {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      margin-bottom: 16px;
    }
    .pollen-type {
      text-align: center;
      padding: 12px;
      border-radius: var(--radius);
      border: 2px solid var(--line);
      background: var(--card);
    }
    .pollen-name {
      font-weight: 700;
      font-size: 14px;
      margin-bottom: 8px;
    }
    .pollen-level {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 4px;
    }
    .level-low { color: var(--good); }
    .level-medium { color: var(--moderate); }
    .level-high { color: var(--poor); }

    /* Recommendations */
    .recommendations-section {
      margin-bottom: 24px;
    }
    .recommendation-card {
      padding: 16px;
      background: #f0f9ff;
      border: 2px solid #0ea5e9;
      border-radius: var(--radius);
      margin-bottom: 12px;
    }
    .recommendation-title {
      font-weight: 700;
      font-size: 16px;
      margin-bottom: 8px;
      color: #0369a1;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .recommendation-list {
      padding-right: 20px;
    }
    .recommendation-item {
      margin-bottom: 6px;
      font-size: 14px;
      color: #0c4a6e;
    }

    /* Quick Links */
    .quick {
      padding: 6px;
      display: grid;
      gap: 8px;
      margin-top: 20px;
    }
    .quick .item {
      display: flex;
      align-items: center;
      gap: 10px;
      border: 2px solid var(--line);
      border-radius: var(--radius);
      padding: 10px 14px;
      background: var(--card);
      font-weight: 600;
      text-decoration: none;
      color: var(--ink);
    }
    .quick .item .label {
      flex: 1 1 auto;
    }

    /* Bottom search */
    .bottom-search {
      padding: 10px 6px 18px;
    }
    .search {
      display: grid;
      grid-template-columns: 28px 1fr;
      align-items: center;
      gap: 8px;
      border: 2px solid var(--line);
      border-radius: 999px;
      padding: 10px 12px;
      background: var(--card);
    }
    .search .glass {
      text-align: center;
      font-size: 16px;
    }
    .search input {
      appearance: none;
      border: 0;
      outline: 0;
      background: transparent;
      width: 100%;
      font: inherit;
      color: var(--ink);
    }
    .search input::placeholder {
      color: var(--muted);
    }

    /* Loading Spinner */
    .loading-spinner {
      text-align: center;
      padding: 30px;
    }
    .spinner {
      width: 40px;
      height: 40px;
      border: 4px solid #e5e7eb;
      border-top: 4px solid var(--primary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 12px;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <header class="brand">
    <a href="home.html" class="home-btn" aria-label="Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©" data-ar="Ø±Ø¬ÙˆØ¹" data-en="Back">Ø±Ø¬ÙˆØ¹</a>
    <div class="logo-text">Ø­Ù€Ù€Ù€Ù€Ù€Ù€ÙŠÙ€Ù€Ù€Ù€Ø§Ùƒ</div>
    <div class="logo-sub">HAYYAK</div>
    <button class="translate-btn" id="translateBtn" aria-label="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ©">
      <span class="icon">ğŸŒ</span>
      <span>English</span>
    </button>
  </header>
  
  <main class="shell">
    <h1 class="page-title" data-ar="Ù…Ø­Ø·Ø© Ù‚ÙŠØ§Ø³ Ø¬ÙˆØ¯Ø© Ø§Ù„Ù…ÙƒØ§Ù†" data-en="Place Quality Measurement Station">Ù…Ø­Ø·Ø© Ù‚ÙŠØ§Ø³ Ø¬ÙˆØ¯Ø© Ø§Ù„Ù…ÙƒØ§Ù†</h1>
    <p class="page-description" data-ar="Ù…Ø±Ø§Ù‚Ø¨Ø© Ø¬ÙˆØ¯Ø© Ø§Ù„Ù‡ÙˆØ§Ø¡ ÙˆØ­Ø¨ÙˆØ¨ Ø§Ù„Ù„Ù‚Ø§Ø­ ÙˆØ§Ù„ØºØ¨Ø§Ø± Ù„Ù„Ø£Ø´Ø®Ø§Øµ Ø§Ù„Ù…ØµØ§Ø¨ÙŠÙ† Ø¨Ø§Ù„Ø­Ø³Ø§Ø³ÙŠØ©" data-en="Monitoring air quality, pollen and dust for people with allergies">Ù…Ø±Ø§Ù‚Ø¨Ø© Ø¬ÙˆØ¯Ø© Ø§Ù„Ù‡ÙˆØ§Ø¡ ÙˆØ­Ø¨ÙˆØ¨ Ø§Ù„Ù„Ù‚Ø§Ø­ ÙˆØ§Ù„ØºØ¨Ø§Ø± Ù„Ù„Ø£Ø´Ø®Ø§Øµ Ø§Ù„Ù…ØµØ§Ø¨ÙŠÙ† Ø¨Ø§Ù„Ø­Ø³Ø§Ø³ÙŠØ©</p>

    <!-- Location Selector -->
    <div class="location-selector">
      <button class="location-btn active" onclick="selectLocation('current')" data-ar="ğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ" data-en="ğŸ“ Current Location">
        ğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ
      </button>
      <button class="location-btn" onclick="selectLocation('home')" data-ar="ğŸ  Ø§Ù„Ù…Ù†Ø²Ù„" data-en="ğŸ  Home">
        ğŸ  Ø§Ù„Ù…Ù†Ø²Ù„
      </button>
      <button class="location-btn" onclick="selectLocation('work')" data-ar="ğŸ’¼ Ø§Ù„Ø¹Ù…Ù„" data-en="ğŸ’¼ Work">
        ğŸ’¼ Ø§Ù„Ø¹Ù…Ù„
      </button>
    </div>

    <!-- Current Location Card -->
    <div class="current-location-card">
      <div class="location-name" id="location-name" data-ar="Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ" data-en="Your Current Location">Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹...</div>
      <div class="location-address" id="location-address" data-ar="Ø´Ø§Ø±Ø¹ Ø§Ù„Ø´ÙŠØ® Ø²Ø§ÙŠØ¯ØŒ Ø¯Ø¨ÙŠ" data-en="Sheikh Zayed Road, Dubai">-</div>
      <div class="location-update">ğŸ”„ <span data-ar="Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«:" data-en="Last update:">Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«:</span> <span id="last-update">Ø§Ù„Ø¢Ù†</span></div>
    </div>

    <!-- Air Quality Index -->
    <div class="card aqi-container">
      <div class="aqi-header">
        <div class="aqi-title" data-ar="Ù…Ø¤Ø´Ø± Ø¬ÙˆØ¯Ø© Ø§Ù„Ù‡ÙˆØ§Ø¡ (AQI)" data-en="Air Quality Index (AQI)">Ù…Ø¤Ø´Ø± Ø¬ÙˆØ¯Ø© Ø§Ù„Ù‡ÙˆØ§Ø¡ (AQI)</div>
        <div class="aqi-value aqi-good" id="aqi-value">--</div>
      </div>
      <div class="aqi-scale">
        <div class="aqi-segment segment-good"></div>
        <div class="aqi-segment segment-moderate"></div>
        <div class="aqi-segment segment-poor"></div>
        <div class="aqi-segment segment-hazardous"></div>
      </div>
      <div class="aqi-description" id="aqi-description" data-ar="Ø¬Ø§Ø±ÙŠ Ù‚ÙŠØ§Ø³ Ø¬ÙˆØ¯Ø© Ø§Ù„Ù‡ÙˆØ§Ø¡..." data-en="Measuring air quality...">Ø¬Ø§Ø±ÙŠ Ù‚ÙŠØ§Ø³ Ø¬ÙˆØ¯Ø© Ø§Ù„Ù‡ÙˆØ§Ø¡...</div>
    </div>

    <!-- Environmental Measurements -->
    <h2 class="section-title"><span>ğŸ“Š</span> <span data-ar="Ø§Ù„Ù‚ÙŠØ§Ø³Ø§Øª Ø§Ù„Ø¨ÙŠØ¦ÙŠØ©" data-en="Environmental Measurements">Ø§Ù„Ù‚ÙŠØ§Ø³Ø§Øª Ø§Ù„Ø¨ÙŠØ¦ÙŠØ©</span></h2>
    <div class="measurement-grid" id="measurements-grid">
      <div class="loading-spinner">
        <div class="spinner"></div>
        <div data-ar="Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª..." data-en="Loading data...">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</div>
      </div>
    </div>

    <!-- Pollen Levels -->
    <div class="card pollen-section">
      <h2 class="section-title"><span>ğŸŒ¸</span> <span data-ar="Ù…Ø³ØªÙˆÙŠØ§Øª Ø­Ø¨ÙˆØ¨ Ø§Ù„Ù„Ù‚Ø§Ø­" data-en="Pollen Levels">Ù…Ø³ØªÙˆÙŠØ§Øª Ø­Ø¨ÙˆØ¨ Ø§Ù„Ù„Ù‚Ø§Ø­</span></h2>
      <div class="pollen-types" id="pollen-levels">
        <div class="loading-spinner">
          <div class="spinner"></div>
        </div>
      </div>
      <div style="text-align: center; font-size: 12px; color: var(--muted);" data-ar="Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª: Ù…Ù†Ø®ÙØ¶ ğŸŸ¢ | Ù…ØªÙˆØ³Ø· ğŸŸ¡ | Ù…Ø±ØªÙØ¹ ğŸ”´" data-en="Levels: Low ğŸŸ¢ | Medium ğŸŸ¡ | High ğŸ”´">
        Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª: Ù…Ù†Ø®ÙØ¶ ğŸŸ¢ | Ù…ØªÙˆØ³Ø· ğŸŸ¡ | Ù…Ø±ØªÙØ¹ ğŸ”´
      </div>
    </div>

    <!-- Health Recommendations -->
    <div class="card recommendations-section">
      <h2 class="section-title"><span>ğŸ’¡</span> <span data-ar="ØªÙˆØµÙŠØ§Øª Ù„Ù„ØµØ­Ø©" data-en="Health Recommendations">ØªÙˆØµÙŠØ§Øª Ù„Ù„ØµØ­Ø©</span></h2>
      <div id="recommendations-container">
        <div class="loading-spinner">
          <div class="spinner"></div>
        </div>
      </div>
    </div>

    <!-- Bottom search -->
    <div class="bottom-search">
      <div class="search">
        <div class="glass">ğŸ”</div>
        <input type="search" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†Ø·Ù‚Ø© Ø£Ùˆ Ù…Ø¯ÙŠÙ†Ø©" aria-label="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†Ø·Ù‚Ø© Ø£Ùˆ Ù…Ø¯ÙŠÙ†Ø©" id="location-search" data-ar-placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†Ø·Ù‚Ø© Ø£Ùˆ Ù…Ø¯ÙŠÙ†Ø©" data-en-placeholder="Search for area or city" />
      </div>
    </div>
  </main>

  <footer data-ar="Â© Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¨Ù† Ù†Ø§ØµØ±-Ø­ÙŠØ§Ùƒ" data-en="Â© Abdullah bin Nasser - Hayyak">Â© Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¨Ù† Ù†Ø§ØµØ±-Ø­ÙŠØ§Ùƒ</footer>

  <script>
    // Ø¨ÙŠØ§Ù†Ø§Øª ÙˆÙ‡Ù…ÙŠØ© Ù„Ù„Ù…Ø­Ø·Ø§Øª
    const locationData = {
      current: {
        name: "Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ",
        address: "Ø´Ø§Ø±Ø¹ Ø§Ù„Ø´ÙŠØ® Ø²Ø§ÙŠØ¯ØŒ Ø¯Ø¨ÙŠ",
        coordinates: { lat: 25.2048, lng: 55.2708 }
      },
      home: {
        name: "Ø§Ù„Ù…Ù†Ø²Ù„",
        address: "Ø­ÙŠ Ø§Ù„Ø¨Ø±Ø´Ø§Ø¡ØŒ Ø¯Ø¨ÙŠ",
        coordinates: { lat: 25.1172, lng: 55.2020 }
      },
      work: {
        name: "Ù…ÙƒØ§Ù† Ø§Ù„Ø¹Ù…Ù„",
        address: "Ø¯Ø¨ÙŠ Ù…Ø§Ø±ÙŠÙ†Ø§ØŒ Ø¯Ø¨ÙŠ",
        coordinates: { lat: 25.0789, lng: 55.1410 }
      }
    };

    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚ÙŠØ§Ø³Ø§Øª
    const measurementData = {
      current: {
        aqi: 42,
        description: "Ø¬ÙˆØ¯Ø© Ù‡ÙˆØ§Ø¡ Ø¬ÙŠØ¯Ø©ØŒ Ø¢Ù…Ù†Ø© Ù„Ù…Ø¹Ø¸Ù… Ø§Ù„Ø£Ø´Ø®Ø§Øµ",
        measurements: [
          { name: "PM2.5", value: 12, unit: "Âµg/mÂ³", status: "good", description: "Ø¬Ø³ÙŠÙ…Ø§Øª Ø¯Ù‚ÙŠÙ‚Ø©" },
          { name: "PM10", value: 25, unit: "Âµg/mÂ³", status: "good", description: "Ø¬Ø³ÙŠÙ…Ø§Øª Ù…ØªÙˆØ³Ø·Ø©" },
          { name: "Ø§Ù„Ø£ÙˆØ²ÙˆÙ†", value: 45, unit: "ppb", status: "moderate", description: "Oâ‚ƒ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£Ø±Ø¶" },
          { name: "Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†", value: 18, unit: "ppb", status: "good", description: "NOâ‚‚" }
        ],
        pollen: [
          { name: "Ø§Ù„Ø£Ø´Ø¬Ø§Ø±", level: "medium", value: 7.2 },
          { name: "Ø§Ù„Ø­Ø´Ø§Ø¦Ø´", level: "low", value: 3.1 },
          { name: "Ø§Ù„Ø£Ø¹Ø´Ø§Ø¨ Ø§Ù„Ø¶Ø§Ø±Ø©", level: "high", value: 9.5 }
        ]
      },
      home: {
        aqi: 65,
        description: "Ø¬ÙˆØ¯Ø© Ù‡ÙˆØ§Ø¡ Ù…ØªÙˆØ³Ø·Ø©ØŒ Ø­Ø³Ø§Ø³Ø© Ù„Ù„Ø£Ø´Ø®Ø§Øµ Ø§Ù„Ø­Ø³Ø§Ø³ÙŠÙ†",
        measurements: [
          { name: "PM2.5", value: 22, unit: "Âµg/mÂ³", status: "moderate", description: "Ø¬Ø³ÙŠÙ…Ø§Øª Ø¯Ù‚ÙŠÙ‚Ø©" },
          { name: "PM10", value: 38, unit: "Âµg/mÂ³", status: "moderate", description: "Ø¬Ø³ÙŠÙ…Ø§Øª Ù…ØªÙˆØ³Ø·Ø©" },
          { name: "Ø§Ù„Ø£ÙˆØ²ÙˆÙ†", value: 62, unit: "ppb", status: "moderate", description: "Oâ‚ƒ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£Ø±Ø¶" },
          { name: "Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†", value: 28, unit: "ppb", status: "moderate", description: "NOâ‚‚" }
        ],
        pollen: [
          { name: "Ø§Ù„Ø£Ø´Ø¬Ø§Ø±", level: "high", value: 8.8 },
          { name: "Ø§Ù„Ø­Ø´Ø§Ø¦Ø´", level: "medium", value: 5.3 },
          { name: "Ø§Ù„Ø£Ø¹Ø´Ø§Ø¨ Ø§Ù„Ø¶Ø§Ø±Ø©", level: "low", value: 2.7 }
        ]
      },
      work: {
        aqi: 85,
        description: "Ø¬ÙˆØ¯Ø© Ù‡ÙˆØ§Ø¡ ØºÙŠØ± ØµØ­ÙŠØ© Ù„Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø©",
        measurements: [
          { name: "PM2.5", value: 35, unit: "Âµg/mÂ³", status: "poor", description: "Ø¬Ø³ÙŠÙ…Ø§Øª Ø¯Ù‚ÙŠÙ‚Ø©" },
          { name: "PM10", value: 52, unit: "Âµg/mÂ³", status: "poor", description: "Ø¬Ø³ÙŠÙ…Ø§Øª Ù…ØªÙˆØ³Ø·Ø©" },
          { name: "Ø§Ù„Ø£ÙˆØ²ÙˆÙ†", value: 78, unit: "ppb", status: "poor", description: "Oâ‚ƒ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£Ø±Ø¶" },
          { name: "Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†", value: 42, unit: "ppb", status: "moderate", description: "NOâ‚‚" }
        ],
        pollen: [
          { name: "Ø§Ù„Ø£Ø´Ø¬Ø§Ø±", level: "low", value: 4.2 },
          { name: "Ø§Ù„Ø­Ø´Ø§Ø¦Ø´", level: "high", value: 9.1 },
          { name: "Ø§Ù„Ø£Ø¹Ø´Ø§Ø¨ Ø§Ù„Ø¶Ø§Ø±Ø©", level: "medium", value: 6.8 }
        ]
      }
    };

    // ØªÙˆØµÙŠØ§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù‚ÙŠØ§Ø³Ø§Øª
    const recommendations = {
      good: [
        "âœ… Ø§Ù„Ø¸Ø±ÙˆÙ Ù…Ù…ØªØ§Ø²Ø© Ù„Ù„Ù…ØµØ§Ø¨ÙŠÙ† Ø¨Ø§Ù„Ø­Ø³Ø§Ø³ÙŠØ©",
        "ğŸŒ³ ÙŠÙ…ÙƒÙ†Ùƒ ÙØªØ­ Ø§Ù„Ù†ÙˆØ§ÙØ° Ù„Ù„ØªÙ‡ÙˆÙŠØ©",
        "ğŸš¶â€â™‚ï¸ Ø¢Ù…Ù† Ù„Ù„Ù…Ø´ÙŠ ÙˆØ§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©",
        "ğŸƒâ€â™‚ï¸ ÙŠÙ…ÙƒÙ† Ù…Ù…Ø§Ø±Ø³Ø© Ø§Ù„Ø±ÙŠØ§Ø¶Ø© ÙÙŠ Ø§Ù„Ø®Ø§Ø±Ø¬"
      ],
      moderate: [
        "âš ï¸ Ø§Ù„Ø£Ø´Ø®Ø§Øµ Ø§Ù„Ø­Ø³Ø§Ø³ÙˆÙ† Ù‚Ø¯ ÙŠØ¹Ø§Ù†ÙˆÙ† Ù…Ù† Ø£Ø¹Ø±Ø§Ø¶ Ø®ÙÙŠÙØ©",
        "ğŸ¤§ Ù‚Ø¯ ÙŠØ­ØªØ§Ø¬ Ø§Ù„Ù…ØµØ§Ø¨ÙˆÙ† Ø¨Ø­Ø³Ø§Ø³ÙŠØ© Ø§Ù„Ø£Ù†Ù Ù„Ø£Ø¯ÙˆÙŠØ©",
        "ğŸªŸ Ù‚Ù„Ù„ Ù…Ù† ÙØªØ­ Ø§Ù„Ù†ÙˆØ§ÙØ° ÙÙŠ Ø§Ù„ØµØ¨Ø§Ø­ Ø§Ù„Ø¨Ø§ÙƒØ±",
        "ğŸ˜· ÙÙƒØ± ÙÙŠ Ø§Ø±ØªØ¯Ø§Ø¡ Ù‚Ù†Ø§Ø¹ Ø¥Ø°Ø§ ÙƒÙ†Øª Ø´Ø¯ÙŠØ¯ Ø§Ù„Ø­Ø³Ø§Ø³ÙŠØ©"
      ],
      poor: [
        "ğŸš« ØªØ¬Ù†Ø¨ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© Ø§Ù„Ù…ÙƒØ«ÙØ©",
        "ğŸ  Ø§Ø¨Ù‚ ÙÙŠ Ø§Ù„Ø¯Ø§Ø®Ù„ Ù‚Ø¯Ø± Ø§Ù„Ø¥Ù…ÙƒØ§Ù†",
        "ğŸ’¨ Ø§Ø³ØªØ®Ø¯Ù… Ø¬Ù‡Ø§Ø² ØªÙ†Ù‚ÙŠØ© Ø§Ù„Ù‡ÙˆØ§Ø¡",
        "ğŸ©º Ø§Ø³ØªØ´Ø± Ø§Ù„Ø·Ø¨ÙŠØ¨ Ø¥Ø°Ø§ Ø§Ø²Ø¯Ø§Ø¯Øª Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶"
      ],
      hazardous: [
        "â›” ØªØ¬Ù†Ø¨ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ù…Ù†Ø²Ù„ ØªÙ…Ø§Ù…Ø§Ù‹",
        "ğŸ¥ Ø§ØªØµÙ„ Ø¨Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶ Ø´Ø¯ÙŠØ¯Ø©",
        "ğŸ”„ Ø´ØºÙ„ Ø£Ø¬Ù‡Ø²Ø© ØªÙ†Ù‚ÙŠØ© Ø§Ù„Ù‡ÙˆØ§Ø¡ Ø¹Ù„Ù‰ Ø£Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰",
        "ğŸ’Š ØªØ£ÙƒØ¯ Ù…Ù† ØªÙˆÙØ± Ø£Ø¯ÙˆÙŠØ© Ø§Ù„Ø·ÙˆØ§Ø±Ø¦"
      ]
    };

    // Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
    const recommendationsEn = {
      good: [
        "âœ… Excellent conditions for allergy sufferers",
        "ğŸŒ³ You can open windows for ventilation",
        "ğŸš¶â€â™‚ï¸ Safe for walking and outdoor activities",
        "ğŸƒâ€â™‚ï¸ Can exercise outdoors"
      ],
      moderate: [
        "âš ï¸ Sensitive people may experience mild symptoms",
        "ğŸ¤§ Those with nasal allergies may need medications",
        "ğŸªŸ Reduce opening windows early in the morning",
        "ğŸ˜· Consider wearing a mask if highly sensitive"
      ],
      poor: [
        "ğŸš« Avoid intense outdoor activities",
        "ğŸ  Stay indoors as much as possible",
        "ğŸ’¨ Use an air purifier",
        "ğŸ©º Consult a doctor if symptoms increase"
      ],
      hazardous: [
        "â›” Avoid going outside completely",
        "ğŸ¥ Call emergency if symptoms are severe",
        "ğŸ”„ Run air purifiers at highest level",
        "ğŸ’Š Ensure emergency medications are available"
      ]
    };

    // ØªØ±Ø¬Ù…Ø© Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù‚ÙŠØ§Ø³Ø§Øª
    const measurementTranslations = {
      "PM2.5": {"ar": "PM2.5", "en": "PM2.5"},
      "PM10": {"ar": "PM10", "en": "PM10"},
      "Ø§Ù„Ø£ÙˆØ²ÙˆÙ†": {"ar": "Ø§Ù„Ø£ÙˆØ²ÙˆÙ†", "en": "Ozone"},
      "Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†": {"ar": "Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†", "en": "Nitrogen Dioxide"},
      "Ø¬Ø³ÙŠÙ…Ø§Øª Ø¯Ù‚ÙŠÙ‚Ø©": {"ar": "Ø¬Ø³ÙŠÙ…Ø§Øª Ø¯Ù‚ÙŠÙ‚Ø©", "en": "Fine particles"},
      "Ø¬Ø³ÙŠÙ…Ø§Øª Ù…ØªÙˆØ³Ø·Ø©": {"ar": "Ø¬Ø³ÙŠÙ…Ø§Øª Ù…ØªÙˆØ³Ø·Ø©", "en": "Medium particles"},
      "Oâ‚ƒ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£Ø±Ø¶": {"ar": "Oâ‚ƒ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£Ø±Ø¶", "en": "Ground-level Oâ‚ƒ"},
      "NOâ‚‚": {"ar": "NOâ‚‚", "en": "NOâ‚‚"},
      "Ø§Ù„Ø£Ø´Ø¬Ø§Ø±": {"ar": "Ø§Ù„Ø£Ø´Ø¬Ø§Ø±", "en": "Trees"},
      "Ø§Ù„Ø­Ø´Ø§Ø¦Ø´": {"ar": "Ø§Ù„Ø­Ø´Ø§Ø¦Ø´", "en": "Grass"},
      "Ø§Ù„Ø£Ø¹Ø´Ø§Ø¨ Ø§Ù„Ø¶Ø§Ø±Ø©": {"ar": "Ø§Ù„Ø£Ø¹Ø´Ø§Ø¨ Ø§Ù„Ø¶Ø§Ø±Ø©", "en": "Weeds"},
      "Ù…Ù†Ø®ÙØ¶": {"ar": "Ù…Ù†Ø®ÙØ¶", "en": "Low"},
      "Ù…ØªÙˆØ³Ø·": {"ar": "Ù…ØªÙˆØ³Ø·", "en": "Medium"},
      "Ù…Ø±ØªÙØ¹": {"ar": "Ù…Ø±ØªÙØ¹", "en": "High"},
      "Ø¬ÙŠØ¯": {"ar": "Ø¬ÙŠØ¯", "en": "Good"},
      "Ø¶Ø¹ÙŠÙ": {"ar": "Ø¶Ø¹ÙŠÙ", "en": "Poor"},
      "Ø®Ø·ÙŠØ±": {"ar": "Ø®Ø·ÙŠØ±", "en": "Hazardous"}
    };

    // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    let currentLocation = 'current';
    let isLoading = true;
    let currentLanguage = 'ar'; // Default language is Arabic

    // ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    const userProfile = JSON.parse(localStorage.getItem('hayyak_user_profile'));
    if (!userProfile) {
      window.location.href = 'indexQ.html';
    }

    // Ø¯Ø§Ù„Ø© ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ©
    function toggleLanguage() {
      const btn = document.getElementById('translateBtn');
      btn.classList.add('switching');
      
      // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ©
      currentLanguage = currentLanguage === 'ar' ? 'en' : 'ar';
      
      // ØªØ­Ø¯ÙŠØ« Ù†Øµ Ø§Ù„Ø²Ø±
      const langText = btn.querySelector('span:last-child');
      langText.textContent = currentLanguage === 'ar' ? 'English' : 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©';
      
      // ØªØ­Ø¯ÙŠØ« Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØµÙØ­Ø©
      document.documentElement.dir = currentLanguage === 'ar' ? 'rtl' : 'ltr';
      document.documentElement.lang = currentLanguage;
      
      // ØªØ±Ø¬Ù…Ø© ÙƒÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ù…Ø§ ÙÙŠ Ø°Ù„Ùƒ Ø§Ù„Ù‡ÙŠØ¯Ø± ÙˆØ§Ù„ÙÙˆØªØ±
      translateAllContent();
      
      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
      updateLocationData();
      updateMeasurements();
      
      // Ø¥Ø´Ø¹Ø§Ø±
      showNotification(currentLanguage === 'ar' ? 'ØªÙ… Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©' : 'Switched to English');
      
      // Ø¥Ø²Ø§Ù„Ø© ÙƒÙ„Ø§Ø³ Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ø¨Ø¹Ø¯ ÙØªØ±Ø©
      setTimeout(() => {
        btn.classList.remove('switching');
      }, 500);
    }

    // ØªØ±Ø¬Ù…Ø© ÙƒÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ù…Ø§ ÙÙŠ Ø°Ù„Ùƒ Ø§Ù„Ù‡ÙŠØ¯Ø± ÙˆØ§Ù„ÙÙˆØªØ±
    function translateAllContent() {
      // ØªØ±Ø¬Ù…Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø°Ø§Øª Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ±Ø¬Ù…Ø© ÙÙŠ Ø§Ù„ØµÙØ­Ø© ÙƒØ§Ù…Ù„Ø©
      document.querySelectorAll('[data-ar], [data-en]').forEach(element => {
        if (element.hasAttribute('data-ar') && element.hasAttribute('data-en')) {
          element.textContent = currentLanguage === 'ar' ? element.getAttribute('data-ar') : element.getAttribute('data-en');
        }
      });
      
      // ØªØ±Ø¬Ù…Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±ÙŠØ© (input placeholders)
      document.querySelectorAll('[data-ar-placeholder], [data-en-placeholder]').forEach(element => {
        if (element.hasAttribute('data-ar-placeholder') && element.hasAttribute('data-en-placeholder')) {
          element.placeholder = currentLanguage === 'ar' ? element.getAttribute('data-ar-placeholder') : element.getAttribute('data-en-placeholder');
        }
      });
      
      // ØªØ­Ø¯ÙŠØ« aria-label Ù„Ù„Ø²Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
      const homeBtn = document.querySelector('.home-btn');
      if (homeBtn) {
        homeBtn.setAttribute('aria-label', currentLanguage === 'ar' ? 'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©' : 'Home');
      }
      
      // ØªØ­Ø¯ÙŠØ« aria-label Ù„Ø²Ø± Ø§Ù„ØªØ±Ø¬Ù…Ø©
      const translateBtn = document.getElementById('translateBtn');
      if (translateBtn) {
        translateBtn.setAttribute('aria-label', currentLanguage === 'ar' ? 'ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ©' : 'Toggle Language');
      }
      
      // ØªØ­Ø¯ÙŠØ« aria-label Ù„Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø­Ø«
      const searchInput = document.getElementById('location-search');
      if (searchInput) {
        searchInput.setAttribute('aria-label', currentLanguage === 'ar' ? 'Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†Ø·Ù‚Ø© Ø£Ùˆ Ù…Ø¯ÙŠÙ†Ø©' : 'Search for area or city');
      }
      
      // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù„ØºØ©
      updateRecommendations(measurementData[currentLocation].aqi);
    }

    // Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹
    function selectLocation(location) {
      currentLocation = location;
      
      // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹
      document.querySelectorAll('.location-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      event.target.classList.add('active');
      
      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
      updateLocationData();
      updateMeasurements();
    }

    // ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹
    function updateLocationData() {
      const location = locationData[currentLocation];
      
      // ØªØ­Ø¯ÙŠØ« Ø§Ø³Ù… ÙˆØ¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ø¹ Ø§Ù„ØªØ±Ø¬Ù…Ø©
      const locationNameElement = document.getElementById('location-name');
      const locationAddressElement = document.getElementById('location-address');
      
      if (currentLanguage === 'ar') {
        locationNameElement.textContent = location.name;
        locationAddressElement.textContent = location.address;
      } else {
        // ØªØ±Ø¬Ù…Ø© Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹
        const locationTranslations = {
          "Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ": "Your Current Location",
          "Ø§Ù„Ù…Ù†Ø²Ù„": "Home",
          "Ù…ÙƒØ§Ù† Ø§Ù„Ø¹Ù…Ù„": "Workplace",
          "Ø´Ø§Ø±Ø¹ Ø§Ù„Ø´ÙŠØ® Ø²Ø§ÙŠØ¯ØŒ Ø¯Ø¨ÙŠ": "Sheikh Zayed Road, Dubai",
          "Ø­ÙŠ Ø§Ù„Ø¨Ø±Ø´Ø§Ø¡ØŒ Ø¯Ø¨ÙŠ": "Al Barsha, Dubai",
          "Ø¯Ø¨ÙŠ Ù…Ø§Ø±ÙŠÙ†Ø§ØŒ Ø¯Ø¨ÙŠ": "Dubai Marina, Dubai"
        };
        
        locationNameElement.textContent = locationTranslations[location.name] || location.name;
        locationAddressElement.textContent = locationTranslations[location.address] || location.address;
      }
      
      // ØªØ­Ø¯ÙŠØ« ÙˆÙ‚Øª Ø§Ù„ØªØ­Ø¯ÙŠØ«
      const now = new Date();
      const updateText = document.getElementById('last-update');
      
      if (currentLanguage === 'ar') {
        updateText.textContent = now.toLocaleTimeString('ar-AE', { 
          hour: '2-digit', 
          minute: '2-digit' 
        });
      } else {
        updateText.textContent = now.toLocaleTimeString('en-US', { 
          hour: '2-digit', 
          minute: '2-digit',
          hour12: true 
        });
      }
    }

    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚ÙŠØ§Ø³Ø§Øª
    function updateMeasurements() {
      const data = measurementData[currentLocation];
      
      // ØªØ­Ø¯ÙŠØ« Ù…Ø¤Ø´Ø± Ø¬ÙˆØ¯Ø© Ø§Ù„Ù‡ÙˆØ§Ø¡
      const aqiValue = document.getElementById('aqi-value');
      const aqiDescription = document.getElementById('aqi-description');
      
      aqiValue.textContent = data.aqi;
      
      // ØªØ­Ø¯ÙŠØ« ÙˆØµÙ AQI Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù„ØºØ©
      if (currentLanguage === 'ar') {
        aqiDescription.textContent = data.description;
      } else {
        const aqiTranslations = {
          "Ø¬ÙˆØ¯Ø© Ù‡ÙˆØ§Ø¡ Ø¬ÙŠØ¯Ø©ØŒ Ø¢Ù…Ù†Ø© Ù„Ù…Ø¹Ø¸Ù… Ø§Ù„Ø£Ø´Ø®Ø§Øµ": "Good air quality, safe for most people",
          "Ø¬ÙˆØ¯Ø© Ù‡ÙˆØ§Ø¡ Ù…ØªÙˆØ³Ø·Ø©ØŒ Ø­Ø³Ø§Ø³Ø© Ù„Ù„Ø£Ø´Ø®Ø§Øµ Ø§Ù„Ø­Ø³Ø§Ø³ÙŠÙ†": "Moderate air quality, sensitive for sensitive people",
          "Ø¬ÙˆØ¯Ø© Ù‡ÙˆØ§Ø¡ ØºÙŠØ± ØµØ­ÙŠØ© Ù„Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø©": "Unhealthy air quality for sensitive groups"
        };
        aqiDescription.textContent = aqiTranslations[data.description] || data.description;
      }
      
      // ØªØ­Ø¯ÙŠØ« Ù„ÙˆÙ† AQI Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù‚ÙŠÙ…Ø©
      if (data.aqi <= 50) {
        aqiValue.className = 'aqi-value aqi-good';
      } else if (data.aqi <= 100) {
        aqiValue.className = 'aqi-value aqi-moderate';
      } else if (data.aqi <= 150) {
        aqiValue.className = 'aqi-value aqi-poor';
      } else {
        aqiValue.className = 'aqi-value aqi-hazardous';
      }
      
      // ØªØ­Ø¯ÙŠØ« Ù‚ÙŠØ§Ø³Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©
      const measurementsGrid = document.getElementById('measurements-grid');
      measurementsGrid.innerHTML = data.measurements.map(measurement => `
        <div class="measurement-card">
          <div class="measurement-header">
            <div class="measurement-title">${currentLanguage === 'ar' ? measurement.name : measurementTranslations[measurement.name]?.en || measurement.name}</div>
            <div class="measurement-value">
              ${measurement.value}<span class="measurement-unit">${measurement.unit}</span>
            </div>
          </div>
          <div class="measurement-status status-${measurement.status}">
            ${currentLanguage === 'ar' ? getStatusText(measurement.status) : measurementTranslations[getStatusText(measurement.status)]?.en || getStatusText(measurement.status)}
          </div>
          <div style="font-size: 11px; color: var(--muted); margin-top: 4px;">
            ${currentLanguage === 'ar' ? measurement.description : measurementTranslations[measurement.description]?.en || measurement.description}
          </div>
        </div>
      `).join('');
      
      // ØªØ­Ø¯ÙŠØ« Ù…Ø³ØªÙˆÙŠØ§Øª Ø­Ø¨ÙˆØ¨ Ø§Ù„Ù„Ù‚Ø§Ø­
      const pollenLevels = document.getElementById('pollen-levels');
      pollenLevels.innerHTML = data.pollen.map(pollen => `
        <div class="pollen-type">
          <div class="pollen-name">${currentLanguage === 'ar' ? pollen.name : measurementTranslations[pollen.name]?.en || pollen.name}</div>
          <div class="pollen-level level-${pollen.level}">${pollen.value.toFixed(1)}</div>
          <div>${currentLanguage === 'ar' ? getPollenLevelText(pollen.level) : measurementTranslations[getPollenLevelText(pollen.level)]?.en || getPollenLevelText(pollen.level)}</div>
        </div>
      `).join('');
      
      // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙˆØµÙŠØ§Øª
      updateRecommendations(data.aqi);
      
      isLoading = false;
    }

    // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù†Øµ Ø§Ù„Ø­Ø§Ù„Ø©
    function getStatusText(status) {
      const statusTexts = {
        good: 'Ø¬ÙŠØ¯',
        moderate: 'Ù…ØªÙˆØ³Ø·',
        poor: 'Ø¶Ø¹ÙŠÙ',
        hazardous: 'Ø®Ø·ÙŠØ±'
      };
      return statusTexts[status] || status;
    }

    // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù†Øµ Ù…Ø³ØªÙˆÙ‰ Ø­Ø¨ÙˆØ¨ Ø§Ù„Ù„Ù‚Ø§Ø­
    function getPollenLevelText(level) {
      const levelTexts = {
        low: 'Ù…Ù†Ø®ÙØ¶',
        medium: 'Ù…ØªÙˆØ³Ø·',
        high: 'Ù…Ø±ØªÙØ¹'
      };
      return levelTexts[level] || level;
    }

    // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ AQI
    function updateRecommendations(aqi) {
      const container = document.getElementById('recommendations-container');
      let recType;
      
      if (aqi <= 50) {
        recType = 'good';
      } else if (aqi <= 100) {
        recType = 'moderate';
      } else if (aqi <= 150) {
        recType = 'poor';
      } else {
        recType = 'hazardous';
      }
      
      // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„ØºØ©
      const recs = currentLanguage === 'ar' ? recommendations[recType] : recommendationsEn[recType];
      
      // ØªØ­Ù…ÙŠÙ„ Ø­Ø³Ø§Ø³ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
      const userAllergies = userProfile.allergies || [];
      const userHealthConditions = JSON.parse(localStorage.getItem('hayyak_health_conditions') || '[]');
      
      // ØªØµÙÙŠØ© Ø§Ù„Ø­Ø³Ø§Ø³ÙŠØ§Øª Ø§Ù„Ù†Ø´Ø·Ø©
      const activeAllergies = userAllergies.filter(allergy => 
        !allergy.includes('Ù„Ø§ ÙŠÙˆØ¬Ø¯')
      );
      
      const activeHealthConditions = userHealthConditions.filter(condition => 
        condition.enabled && (condition.name.includes('Ø­Ø³Ø§Ø³ÙŠØ©') || condition.name.includes('Ø±Ø¨Ùˆ'))
      );
      
      let personalRecommendations = [];
      
      // Ø¥Ø¶Ø§ÙØ© ØªÙˆØµÙŠØ§Øª Ø´Ø®ØµÙŠØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø³Ø§Ø³ÙŠØ§Øª
      if (activeAllergies.length > 0 || activeHealthConditions.length > 0) {
        if (aqi > 50) {
          personalRecommendations.push(currentLanguage === 'ar' ? "âš ï¸ Ø§Ù†ØªØ¨Ù‡! Ø£Ù†Øª Ù…ØµØ§Ø¨ Ø¨Ø­Ø³Ø§Ø³ÙŠØ© ÙˆØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªÙˆØ®ÙŠ Ø§Ù„Ø­Ø°Ø±" : "âš ï¸ Attention! You have allergies and need to be cautious");
        }
        
        if (activeAllergies.some(a => a.includes('ØºØ¨Ø§Ø±') || a.includes('Ø·Ù„Ø¹'))) {
          if (measurementData[currentLocation].pollen.some(p => p.level === 'high')) {
            personalRecommendations.push(currentLanguage === 'ar' ? "ğŸŒ¸ Ù…Ø³ØªÙˆÙŠØ§Øª Ø­Ø¨ÙˆØ¨ Ø§Ù„Ù„Ù‚Ø§Ø­ Ù…Ø±ØªÙØ¹Ø© - ØªØ¬Ù†Ø¨ Ø§Ù„Ø®Ø±ÙˆØ¬" : "ğŸŒ¸ Pollen levels are high - Avoid going outside");
          }
        }
        
        if (activeHealthConditions.some(c => c.name.includes('Ø±Ø¨Ùˆ'))) {
          if (aqi > 100) {
            personalRecommendations.push(currentLanguage === 'ar' ? "ğŸŒ€ Ø¬ÙˆØ¯Ø© Ø§Ù„Ù‡ÙˆØ§Ø¡ Ø³ÙŠØ¦Ø© - Ø§Ø­ØªÙØ¸ Ø¨Ø¨Ø®Ø§Ø® Ø§Ù„Ø±Ø¨Ùˆ Ù…Ø¹Ùƒ" : "ğŸŒ€ Air quality is poor - Keep your inhaler with you");
          }
        }
      }
      
      container.innerHTML = `
        <div class="recommendation-card">
          <div class="recommendation-title">ğŸ’¡ ${currentLanguage === 'ar' ? 'ØªÙˆØµÙŠØ§Øª Ø¹Ø§Ù…Ø©' : 'General Recommendations'}</div>
          <div class="recommendation-list">
            ${recs.map(rec => `<div class="recommendation-item">â€¢ ${rec}</div>`).join('')}
          </div>
        </div>
        ${personalRecommendations.length > 0 ? `
        <div class="recommendation-card" style="background: #fef3c7; border-color: #f59e0b;">
          <div class="recommendation-title">ğŸ‘¤ ${currentLanguage === 'ar' ? 'ØªÙˆØµÙŠØ§Øª Ø´Ø®ØµÙŠØ©' : 'Personal Recommendations'}</div>
          <div class="recommendation-list">
            ${personalRecommendations.map(rec => `<div class="recommendation-item">â€¢ ${rec}</div>`).join('')}
          </div>
        </div>
        ` : ''}
      `;
      
      // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚ÙŠØ§Ø³ ÙÙŠ Ø§Ù„Ø³Ø¬Ù„
      saveToHistory();
    }

    // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ø³Ø¬Ù„
    function saveToHistory() {
      const history = JSON.parse(localStorage.getItem('allergy_station_history') || '[]');
      const now = new Date();
      
      const record = {
        timestamp: now.toISOString(),
        location: currentLocation,
        locationName: locationData[currentLocation].name,
        aqi: measurementData[currentLocation].aqi,
        measurements: measurementData[currentLocation].measurements,
        pollen: measurementData[currentLocation].pollen
      };
      
      // Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù…ØµÙÙˆÙØ© ÙˆØ§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø¢Ø®Ø± 50 Ø³Ø¬Ù„Ø§Ù‹ ÙÙ‚Ø·
      history.unshift(record);
      if (history.length > 50) {
        history.pop();
      }
      
      localStorage.setItem('allergy_station_history', JSON.stringify(history));
    }

    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    function refreshData() {
      isLoading = true;
      
      // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
      const measurementsGrid = document.getElementById('measurements-grid');
      const pollenLevels = document.getElementById('pollen-levels');
      const recommendationsContainer = document.getElementById('recommendations-container');
      
      measurementsGrid.innerHTML = `
        <div class="loading-spinner">
          <div class="spinner"></div>
          <div>${currentLanguage === 'ar' ? 'Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...' : 'Updating data...'}</div>
        </div>
      `;
      
      pollenLevels.innerHTML = `
        <div class="loading-spinner">
          <div class="spinner"></div>
        </div>
      `;
      
      recommendationsContainer.innerHTML = `
        <div class="loading-spinner">
          <div class="spinner"></div>
        </div>
      `;
      
      // Ù…Ø­Ø§ÙƒØ§Ø© ØªØ£Ø®ÙŠØ± Ø§Ù„Ø´Ø¨ÙƒØ©
      setTimeout(() => {
        // Ø¥Ø¶Ø§ÙØ© Ø¨Ø¹Ø¶ Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„ØªØºÙŠÙŠØ±
        measurementData[currentLocation].aqi += Math.floor(Math.random() * 10) - 5;
        measurementData[currentLocation].aqi = Math.max(0, Math.min(200, measurementData[currentLocation].aqi));
        
        measurementData[currentLocation].measurements.forEach(measurement => {
          measurement.value += Math.floor(Math.random() * 5) - 2;
          measurement.value = Math.max(0, measurement.value);
          
          // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
          if (measurement.name === "PM2.5") {
            if (measurement.value <= 12) measurement.status = "good";
            else if (measurement.value <= 35) measurement.status = "moderate";
            else if (measurement.value <= 55) measurement.status = "poor";
            else measurement.status = "hazardous";
          }
        });
        
        measurementData[currentLocation].pollen.forEach(pollen => {
          pollen.value += (Math.random() * 2) - 1;
          pollen.value = Math.max(0, Math.min(10, pollen.value));
          
          if (pollen.value <= 3) pollen.level = "low";
          else if (pollen.value <= 7) pollen.level = "medium";
          else pollen.level = "high";
        });
        
        updateLocationData();
        updateMeasurements();
        
        // Ø¥Ø´Ø¹Ø§Ø± Ø¨Ø§Ù„ØªØ­Ø¯ÙŠØ«
        showNotification(currentLanguage === 'ar' ? "âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø¬ÙˆØ¯Ø© Ø§Ù„Ù‡ÙˆØ§Ø¡ Ø¨Ù†Ø¬Ø§Ø­" : "âœ… Air quality data updated successfully");
      }, 1500);
    }

    // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…ÙˆÙ‚Ø¹
    document.getElementById('location-search').addEventListener('keypress', function(e) {
      if (e.key === 'Enter' && this.value.trim()) {
        const searchTerm = this.value.trim();
        
        // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø¨Ø­Ø«
        showNotification(currentLanguage === 'ar' ? `ğŸ” Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù†: ${searchTerm}` : `ğŸ” Searching for: ${searchTerm}`);
        
        // Ø¥Ø¶Ø§ÙØ© Ù…ÙˆÙ‚Ø¹ Ù…Ø¤Ù‚Øª Ù„Ù„Ø¨Ø­Ø«
        locationData.search = {
          name: currentLanguage === 'ar' ? `Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø¨Ø­Ø«: ${searchTerm}` : `Search Result: ${searchTerm}`,
          address: currentLanguage === 'ar' ? `${searchTerm}ØŒ Ø¯Ø¨ÙŠ` : `${searchTerm}, Dubai`,
          coordinates: { lat: 25.2048 + (Math.random() * 0.1 - 0.05), lng: 55.2708 + (Math.random() * 0.1 - 0.05) }
        };
        
        measurementData.search = {
          aqi: Math.floor(Math.random() * 150),
          description: currentLanguage === 'ar' ? "Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ø§ÙƒØ§Ø© Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø¨Ø­Ø«" : "Simulated data for search result",
          measurements: [
            { name: "PM2.5", value: Math.floor(Math.random() * 60), unit: "Âµg/mÂ³", status: "moderate", description: currentLanguage === 'ar' ? "Ø¬Ø³ÙŠÙ…Ø§Øª Ø¯Ù‚ÙŠÙ‚Ø©" : "Fine particles" },
            { name: "PM10", value: Math.floor(Math.random() * 80), unit: "Âµg/mÂ³", status: "moderate", description: currentLanguage === 'ar' ? "Ø¬Ø³ÙŠÙ…Ø§Øª Ù…ØªÙˆØ³Ø·Ø©" : "Medium particles" },
            { name: "Ø§Ù„Ø£ÙˆØ²ÙˆÙ†", value: Math.floor(Math.random() * 80), unit: "ppb", status: "moderate", description: currentLanguage === 'ar' ? "Oâ‚ƒ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£Ø±Ø¶" : "Ground-level Oâ‚ƒ" },
            { name: "Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†", value: Math.floor(Math.random() * 50), unit: "ppb", status: "moderate", description: "NOâ‚‚" }
          ],
          pollen: [
            { name: "Ø§Ù„Ø£Ø´Ø¬Ø§Ø±", level: ["low", "medium", "high"][Math.floor(Math.random() * 3)], value: Math.random() * 10 },
            { name: "Ø§Ù„Ø­Ø´Ø§Ø¦Ø´", level: ["low", "medium", "high"][Math.floor(Math.random() * 3)], value: Math.random() * 10 },
            { name: "Ø§Ù„Ø£Ø¹Ø´Ø§Ø¨ Ø§Ù„Ø¶Ø§Ø±Ø©", level: ["low", "medium", "high"][Math.floor(Math.random() * 3)], value: Math.random() * 10 }
          ]
        };
        
        // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹
        document.querySelectorAll('.location-btn').forEach(btn => {
          btn.classList.remove('active');
        });
        
        // Ø¥Ø¶Ø§ÙØ© Ø²Ø± Ø§Ù„Ø¨Ø­Ø« Ù…Ø¤Ù‚ØªØ§Ù‹
        currentLocation = 'search';
        updateLocationData();
        updateMeasurements();
        
        this.value = '';
      }
    });

    // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
    function showNotification(message) {
      // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
      const notification = document.createElement('div');
      notification.textContent = message;
      notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: var(--primary);
        color: white;
        padding: 12px 20px;
        border-radius: var(--radius);
        z-index: 1000;
        font-weight: 600;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        animation: slideIn 0.3s ease;
      `;
      
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => notification.remove(), 300);
      }, 3000);
    }

    // Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
    document.addEventListener('DOMContentLoaded', function() {
      // Add click event to translate button
      document.getElementById('translateBtn').addEventListener('click', toggleLanguage);
      
      // Apply profile language
      if (userProfile && userProfile.language && userProfile.language !== currentLanguage) {
        currentLanguage = userProfile.language;
        document.documentElement.dir = currentLanguage === 'ar' ? 'rtl' : 'ltr';
        document.documentElement.lang = currentLanguage;
        const btn = document.getElementById('translateBtn');
        if (btn) {
          const langText = btn.querySelector('span:last-child');
          if (langText) langText.textContent = currentLanguage === 'ar' ? 'English' : 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©';
        }
        translateAllContent();
      }
      
      // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙˆØ¬ÙˆØ¯Ø©
      if (userProfile.emirate) {
        // ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¥Ù…Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        locationData.current.address = userProfile.emirate;
        locationData.home.address = currentLanguage === 'ar' ? `Ø§Ù„Ù…Ù†Ø²Ù„ØŒ ${userProfile.emirate}` : `Home, ${userProfile.emirate}`;
        locationData.work.address = currentLanguage === 'ar' ? `Ø§Ù„Ø¹Ù…Ù„ØŒ ${userProfile.emirate}` : `Work, ${userProfile.emirate}`;
      }
      
      updateLocationData();
      updateMeasurements();
      
      // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©
      setInterval(refreshData, 60000);
      
      // Ø¥Ø¶Ø§ÙØ© Ø£Ù†Ù…Ø§Ø· Ù„Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ©
      const style = document.createElement('style');
      style.textContent = `
        @keyframes slideIn {
          from { transform: translateX(100%); opacity: 0; }
          to { transform: translateX(0); opacity: 1; }
        }
        @keyframes slideOut {
          from { transform: translateX(0); opacity: 1; }
          to { transform: translateX(100%); opacity: 0; }
        }
      `;
      document.head.appendChild(style);
    });
  </script>
</body>
</html>